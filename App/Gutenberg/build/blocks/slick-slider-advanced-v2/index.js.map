{"version":3,"file":"blocks/slick-slider-advanced-v2/index.js","mappings":"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","sources":["webpack://alex-gutenberg/./node_modules/@wordpress/icons/build-module/library/caption.js","webpack://alex-gutenberg/./node_modules/@wordpress/icons/build-module/library/chevron-left.js","webpack://alex-gutenberg/./node_modules/@wordpress/icons/build-module/library/chevron-right.js","webpack://alex-gutenberg/./node_modules/@wordpress/icons/build-module/library/close-small.js","webpack://alex-gutenberg/./node_modules/@wordpress/icons/build-module/library/edit.js","webpack://alex-gutenberg/./node_modules/@wordpress/icons/build-module/library/gallery.js","webpack://alex-gutenberg/./node_modules/@wordpress/icons/build-module/library/image.js","webpack://alex-gutenberg/./node_modules/@wordpress/icons/build-module/library/pencil.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/constants.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/custom-title.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/deprecated.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/edit-custom-wrapper.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/edit-wrapper.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/edit.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/gallery.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/gap-styles.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/image/constants.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/image/utils.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/save.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/shared-icon.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/shared.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/transforms.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/use-get-media.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/use-get-new-images.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/use-image-sizes.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/utils.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/v1/constants.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/v1/edit.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/v1/gallery-image.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/v1/gallery.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/v1/save.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/v1/shared.js","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/editor.scss?97f4","webpack://alex-gutenberg/external window \"React\"","webpack://alex-gutenberg/external window \"lodash\"","webpack://alex-gutenberg/external window [\"wp\",\"blob\"]","webpack://alex-gutenberg/external window [\"wp\",\"blockEditor\"]","webpack://alex-gutenberg/external window [\"wp\",\"blocks\"]","webpack://alex-gutenberg/external window [\"wp\",\"components\"]","webpack://alex-gutenberg/external window [\"wp\",\"compose\"]","webpack://alex-gutenberg/external window [\"wp\",\"coreData\"]","webpack://alex-gutenberg/external window [\"wp\",\"data\"]","webpack://alex-gutenberg/external window [\"wp\",\"element\"]","webpack://alex-gutenberg/external window [\"wp\",\"hooks\"]","webpack://alex-gutenberg/external window [\"wp\",\"i18n\"]","webpack://alex-gutenberg/external window [\"wp\",\"keycodes\"]","webpack://alex-gutenberg/external window [\"wp\",\"notices\"]","webpack://alex-gutenberg/external window [\"wp\",\"primitives\"]","webpack://alex-gutenberg/external window [\"wp\",\"viewport\"]","webpack://alex-gutenberg/./node_modules/classnames/index.js","webpack://alex-gutenberg/webpack/bootstrap","webpack://alex-gutenberg/webpack/runtime/compat get default export","webpack://alex-gutenberg/webpack/runtime/define property getters","webpack://alex-gutenberg/webpack/runtime/hasOwnProperty shorthand","webpack://alex-gutenberg/webpack/runtime/make namespace object","webpack://alex-gutenberg/./src/blocks/slick-slider-advanced-v2/index.js"],"sourcesContent":["import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nconst caption = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z\"\n}));\nexport default caption;\n//# sourceMappingURL=caption.js.map","import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst chevronLeft = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z\"\n}));\nexport default chevronLeft;\n//# sourceMappingURL=chevron-left.js.map","import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst chevronRight = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z\"\n}));\nexport default chevronRight;\n//# sourceMappingURL=chevron-right.js.map","import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst closeSmall = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\"\n}));\nexport default closeSmall;\n//# sourceMappingURL=close-small.js.map","/**\n * Internal dependencies\n */\n\nimport { default as pencil } from './pencil';\nexport default pencil;\n//# sourceMappingURL=edit.js.map","import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nexport const gallery = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M16.375 4.5H4.625a.125.125 0 0 0-.125.125v8.254l2.859-1.54a.75.75 0 0 1 .68-.016l2.384 1.142 2.89-2.074a.75.75 0 0 1 .874 0l2.313 1.66V4.625a.125.125 0 0 0-.125-.125Zm.125 9.398-2.75-1.975-2.813 2.02a.75.75 0 0 1-.76.067l-2.444-1.17L4.5 14.583v1.792c0 .069.056.125.125.125h11.75a.125.125 0 0 0 .125-.125v-2.477ZM4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625ZM20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z\",\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\"\n}));\nexport default gallery;\n//# sourceMappingURL=gallery.js.map","import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nconst image = createElement(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, createElement(Path, {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z\"\n}));\nexport default image;\n//# sourceMappingURL=image.js.map","import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst pencil = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z\"\n}));\nexport default pencil;\n//# sourceMappingURL=pencil.js.map","export const LINK_DESTINATION_NONE = 'none';\nexport const LINK_DESTINATION_MEDIA = 'media';\nexport const LINK_DESTINATION_ATTACHMENT = 'attachment';\nexport const LINK_DESTINATION_MEDIA_WP_CORE = 'file';\nexport const LINK_DESTINATION_ATTACHMENT_WP_CORE = 'post';\n","const CustomTitle = ()=>(\n\t<div style={ {  textAlign: \"center\" , padding: \"10px\"  } }>\n\t\t<h4 style={ { fontSize:\"24px\", textAlign: \"center\" , padding: \"15px\"  } }>\n\t\t\tSlider.\n\t\t</h4>\n\t\t<span>Slider based on slick slider js lib and default gallery block</span>\n\t</div>\n)\nexport default CustomTitle;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n} from '@wordpress/block-editor';\n\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE,\n} from './constants';\nimport { isGalleryV2Enabled } from './shared';\n\nconst DEPRECATED_LINK_DESTINATION_MEDIA = 'file';\nconst DEPRECATED_LINK_DESTINATION_ATTACHMENT = 'post';\n\n/**\n * Original function to determine default number of columns from a block's\n * attributes.\n *\n * Used in deprecations: v1-6, for versions of the gallery block that didn't use inner blocks.\n *\n * @param {Object} attributes Block attributes.\n * @return {number}           Default number of columns for the gallery.\n */\nexport function defaultColumnsNumberV1( attributes ) {\n\treturn Math.min( 3, attributes?.images?.length );\n}\n\n/**\n * Original function to determine new href and linkDestination values for an image block from the\n * supplied Gallery link destination.\n *\n * Used in deprecations: v1-6.\n *\n * @param {Object} image       Gallery image.\n * @param {string} destination Gallery's selected link destination.\n * @return {Object}            New attributes to assign to image block.\n */\nexport function getHrefAndDestination( image, destination ) {\n\t// Need to determine the URL that the selected destination maps to.\n\t// Gutenberg and WordPress use different constants so the new link\n\t// destination also needs to be tweaked.\n\tswitch ( destination ) {\n\t\tcase DEPRECATED_LINK_DESTINATION_MEDIA:\n\t\t\treturn {\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\n\t\t\t};\n\t\tcase DEPRECATED_LINK_DESTINATION_ATTACHMENT:\n\t\t\treturn {\n\t\t\t\thref: image?.link,\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\n\t\t\t};\n\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\treturn {\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\n\t\t\t\tlinkDestination: LINK_DESTINATION_MEDIA,\n\t\t\t};\n\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\treturn {\n\t\t\t\thref: image?.link,\n\t\t\t\tlinkDestination: LINK_DESTINATION_ATTACHMENT,\n\t\t\t};\n\t\tcase LINK_DESTINATION_NONE:\n\t\t\treturn {\n\t\t\t\thref: undefined,\n\t\t\t\tlinkDestination: LINK_DESTINATION_NONE,\n\t\t\t};\n\t}\n\n\treturn {};\n}\n\nfunction runV2Migration( attributes ) {\n\tlet linkTo = attributes.linkTo ? attributes.linkTo : 'none';\n\n\tif ( linkTo === 'post' ) {\n\t\tlinkTo = 'attachment';\n\t} else if ( linkTo === 'file' ) {\n\t\tlinkTo = 'media';\n\t}\n\n\tconst imageBlocks = attributes.images.map( ( image ) => {\n\t\treturn getImageBlock( image, attributes.sizeSlug, linkTo );\n\t} );\n\n\tconst { images, ids, ...restAttributes } = attributes;\n\n\treturn [\n\t\t{\n\t\t\t...restAttributes,\n\t\t\tlinkTo,\n\t\t\tallowResize: false,\n\t\t},\n\t\timageBlocks,\n\t];\n}\n/**\n * Gets an Image block from gallery image data\n *\n * Used to migrate Galleries to nested Image InnerBlocks.\n *\n * @param {Object} image    Image properties.\n * @param {string} sizeSlug Gallery sizeSlug attribute.\n * @param {string} linkTo   Gallery linkTo attribute.\n * @return {Object}         Image block.\n */\nexport function getImageBlock( image, sizeSlug, linkTo ) {\n\treturn createBlock( 'core/image', {\n\t\t...( image.id && { id: parseInt( image.id ) } ),\n\t\turl: image.url,\n\t\talt: image.alt,\n\t\tcaption: image.caption,\n\t\tsizeSlug,\n\t\t...getHrefAndDestination( image, linkTo ),\n\t} );\n}\n\n// In #41140 support was added to global styles for caption elements which added a `wp-element-caption` classname\n// to the gallery figcaption element.\nconst v7 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tshortCodeTransforms: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\titems: {\n\t\t\t\ttype: 'object',\n\t\t\t},\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tminimum: 1,\n\t\t\tmaximum: 8,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tfixedHeight: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTarget: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tsizeSlug: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'large',\n\t\t},\n\t\tallowResize: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tsave( { attributes } ) {\n\t\tconst { caption, columns, imageCrop } = attributes;\n\n\t\tconst className = classnames( 'has-nested-images', {\n\t\t\t[ `columns-${ columns }` ]: columns !== undefined,\n\t\t\t[ `columns-default` ]: columns === undefined,\n\t\t\t'is-cropped': imageCrop,\n\t\t} );\n\t\tconst blockProps = useBlockProps.save( { className } );\n\t\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\n\n\t\treturn (\n\t\t\t<figure { ...innerBlocksProps }>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n\nconst v6 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tminimum: 1,\n\t\t\tmaximum: 8,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tfixedHeight: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t},\n\t\tsizeSlug: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'large',\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tcaption,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\tconst className = `columns-${ columns } ${\n\t\t\timageCrop ? 'is-cropped' : ''\n\t\t}`;\n\n\t\treturn (\n\t\t\t<figure { ...useBlockProps.save( { className } ) }>\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase DEPRECATED_LINK_DESTINATION_MEDIA:\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase DEPRECATED_LINK_DESTINATION_ATTACHMENT:\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? (\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\timg\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\treturn attributes;\n\t},\n};\nconst v5 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'number',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tminimum: 1,\n\t\t\tmaximum: 8,\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t\tsizeSlug: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'large',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tisEligible( { linkTo } ) {\n\t\treturn ! linkTo || linkTo === 'attachment' || linkTo === 'media';\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\tlet linkTo = attributes.linkTo;\n\n\t\tif ( ! attributes.linkTo ) {\n\t\t\tlinkTo = 'none';\n\t\t} else if ( attributes.linkTo === 'attachment' ) {\n\t\t\tlinkTo = 'post';\n\t\t} else if ( attributes.linkTo === 'media' ) {\n\t\t\tlinkTo = 'file';\n\t\t}\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tlinkTo,\n\t\t};\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tcaption,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? (\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\timg\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n\nconst v4 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: '.blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: '.blocks-gallery-item__caption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.blocks-gallery-caption',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tisEligible( { ids } ) {\n\t\treturn ids && ids.some( ( id ) => typeof id === 'string' );\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tids: ( attributes.ids ?? [] ).map( ( id ) => {\n\t\t\t\tconst parsedId = parseInt( id, 10 );\n\t\t\t\treturn Number.isInteger( parsedId ) ? parsedId : null;\n\t\t\t} ),\n\t\t};\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tcaption,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\n\t\treturn (\n\t\t\t<figure\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\t\tlet href;\n\n\t\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst img = (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t{ href ? (\n\t\t\t\t\t\t\t\t\t\t<a href={ href }>{ img }</a>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\timg\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"blocks-gallery-item__caption\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</ul>\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName=\"blocks-gallery-caption\"\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t},\n};\nconst v3 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\tfullUrl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-full-url',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tids: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\t\treturn attributes;\n\t},\n};\nconst v2 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'ul.wp-block-gallery .blocks-gallery-item',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t\tlink: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tselector: 'img',\n\t\t\t\t\tattribute: 'data-link',\n\t\t\t\t},\n\t\t\t\tcaption: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tsource: 'html',\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tisEligible( { images, ids } ) {\n\t\treturn (\n\t\t\timages &&\n\t\t\timages.length > 0 &&\n\t\t\t( ( ! ids && images ) ||\n\t\t\t\t( ids && images && ids.length !== images.length ) ||\n\t\t\t\timages.some( ( id, index ) => {\n\t\t\t\t\tif ( ! id && ids[ index ] !== null ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn parseInt( id, 10 ) !== ids[ index ];\n\t\t\t\t} ) )\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\t\treturn {\n\t\t\t...attributes,\n\t\t\tids: ( attributes.images ?? [] ).map( ( { id } ) => {\n\t\t\t\tif ( ! id ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn parseInt( id, 10 );\n\t\t\t} ),\n\t\t};\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\timageCrop,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tclassName={ `columns-${ columns } ${\n\t\t\t\t\timageCrop ? 'is-cropped' : ''\n\t\t\t\t}` }\n\t\t\t>\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t{ image.caption && image.caption.length > 0 && (\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t);\n\t},\n};\n\nconst v1 = {\n\tattributes: {\n\t\timages: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'div.wp-block-gallery figure.blocks-gallery-image img',\n\t\t\tquery: {\n\t\t\t\turl: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tattribute: 'src',\n\t\t\t\t},\n\t\t\t\talt: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tattribute: 'alt',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\tid: {\n\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\tattribute: 'data-id',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t},\n\t\timageCrop: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tlinkTo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t\talign: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t},\n\tsupports: {\n\t\talign: true,\n\t},\n\tsave( { attributes } ) {\n\t\tconst {\n\t\t\timages,\n\t\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\t\talign,\n\t\t\timageCrop,\n\t\t\tlinkTo,\n\t\t} = attributes;\n\t\tconst className = classnames( `columns-${ columns }`, {\n\t\t\talignnone: align === 'none',\n\t\t\t'is-cropped': imageCrop,\n\t\t} );\n\t\treturn (\n\t\t\t<div className={ className }>\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase 'media':\n\t\t\t\t\t\t\thref = image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'attachment':\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<figure\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-image\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t);\n\t},\n\tmigrate( attributes ) {\n\t\tif ( isGalleryV2Enabled() ) {\n\t\t\treturn runV2Migration( attributes );\n\t\t}\n\n\t\treturn attributes;\n\t},\n};\n\nexport default [ v7, v6, v5, v4, v3, v2, v1 ];\n","import edit from \"./edit-wrapper\";\n\nconst EditCustomWrapper = (props)=>(\n\t<>\n\t\t<div style={ {  textAlign: \"center\" , padding: \"10px\"  } }>\n\t\t\t<h4 style={ { fontSize:\"24px\", textAlign: \"center\" , padding: \"15px\"  } }>\n\t\t\t\tSlider.\n\t\t\t</h4>\n\t\t\t<span>Slider based on slick slider js lib and default gallery block</span>\n\t\t</div>\n\t\t{edit(props)}\n\t</>\n)\nexport default EditCustomWrapper;\n","/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withNotices } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport EditWithInnerBlocks from './edit';\nimport EditWithoutInnerBlocks from './v1/edit';\nimport { isGalleryV2Enabled } from './shared';\n\nimport './editor.scss';\n\n/*\n * Using a wrapper around the logic to load the edit for v1 of Gallery block\n * or the refactored version with InnerBlocks. This is to prevent conditional\n * use of hooks lint errors if adding this logic to the top of the edit component.\n */\nfunction GalleryEditWrapper( props ) {\n\tif ( ! isGalleryV2Enabled() ) {\n\t\treturn <EditWithoutInnerBlocks { ...props } />;\n\t}\n\n\treturn <EditWithInnerBlocks { ...props } />;\n}\n\nexport default compose( [ withNotices ] )( GalleryEditWrapper );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { compose, usePrevious } from '@wordpress/compose';\nimport {\n\tBaseControl,\n\tPanelBody,\n\tSelectControl,\n\tToggleControl,\n\tRangeControl,\n\tSpinner,\n\tToolbarButton,\n} from '@wordpress/components';\nimport {\n\tstore as blockEditorStore,\n\tMediaPlaceholder,\n\tInspectorControls,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\tBlockControls,\n\tMediaReplaceFlow,\n} from '@wordpress/block-editor';\nimport {\n\tPlatform,\n\tuseCallback,\n\tuseEffect,\n\tuseState,\n\tuseMemo,\n} from '@wordpress/element';\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { View } from '@wordpress/primitives';\nimport { createBlock } from '@wordpress/blocks';\nimport { createBlobURL } from '@wordpress/blob';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { caption as captionIcon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { sharedIcon } from './shared-icon';\nimport { defaultColumnsNumber, pickRelevantMediaFiles } from './shared';\nimport { getHrefAndDestination } from './utils';\nimport {\n\tgetUpdatedLinkTargetSettings,\n\tgetImageSizeAttributes,\n} from './image/utils';\nimport Gallery from './gallery';\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE,\n} from './constants';\nimport useImageSizes from './use-image-sizes';\nimport useGetNewImages from './use-get-new-images';\nimport useGetMedia from './use-get-media';\nimport GapStyles from './gap-styles';\nimport edit from \"./edit-wrapper\";\n\nconst MAX_COLUMNS = 8;\nconst linkOptions = [\n\t{ value: LINK_DESTINATION_ATTACHMENT, label: __( 'Attachment Page' ) },\n\t{ value: LINK_DESTINATION_MEDIA, label: __( 'Media File' ) },\n\t{\n\t\tvalue: LINK_DESTINATION_NONE,\n\t\tlabel: _x( 'None', 'Media item link option' ),\n\t},\n];\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\nconst allowedBlocks = [ 'core/image' ];\n\nconst PLACEHOLDER_TEXT = Platform.isNative\n\t? __( 'ADD MEDIA' )\n\t: __( 'Drag images, upload new ones or select files from your library.' );\n\nconst MOBILE_CONTROL_PROPS_RANGE_CONTROL = Platform.isNative\n\t? { type: 'stepper' }\n\t: {};\n\nfunction GalleryEdit( props ) {\n\tconst {\n\t\tsetAttributes,\n\t\tattributes,\n\t\tclassName,\n\t\tclientId,\n\t\tisSelected,\n\t\tinsertBlocksAfter,\n\t\tisContentLocked,\n\t} = props;\n\n\tconst { columns, imageCrop, linkTarget, linkTo, sizeSlug, caption } =\n\t\tattributes;\n\tconst [ showCaption, setShowCaption ] = useState( !! caption );\n\tconst prevCaption = usePrevious( caption );\n\n\t// We need to show the caption when changes come from\n\t// history navigation(undo/redo).\n\tuseEffect( () => {\n\t\tif ( caption && ! prevCaption ) {\n\t\t\tsetShowCaption( true );\n\t\t}\n\t}, [ caption, prevCaption ] );\n\n\tuseEffect( () => {\n\t\tif ( ! isSelected && ! caption ) {\n\t\t\tsetShowCaption( false );\n\t\t}\n\t}, [ isSelected, caption ] );\n\n\t// Focus the caption when we click to add one.\n\tconst captionRef = useCallback(\n\t\t( node ) => {\n\t\t\tif ( node && ! caption ) {\n\t\t\t\tnode.focus();\n\t\t\t}\n\t\t},\n\t\t[ caption ]\n\t);\n\n\tconst {\n\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\treplaceInnerBlocks,\n\t\tupdateBlockAttributes,\n\t\tselectBlock,\n\t\tclearSelectedBlock,\n\t} = useDispatch( blockEditorStore );\n\tconst { createSuccessNotice, createErrorNotice } =\n\t\tuseDispatch( noticesStore );\n\n\tconst { getBlock, getSettings, preferredStyle } = useSelect( ( select ) => {\n\t\tconst settings = select( blockEditorStore ).getSettings();\n\t\tconst preferredStyleVariations =\n\t\t\tsettings.__experimentalPreferredStyleVariations;\n\t\treturn {\n\t\t\tgetBlock: select( blockEditorStore ).getBlock,\n\t\t\tgetSettings: select( blockEditorStore ).getSettings,\n\t\t\tpreferredStyle: preferredStyleVariations?.value?.[ 'core/image' ],\n\t\t};\n\t}, [] );\n\n\tconst innerBlockImages = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( blockEditorStore ).getBlock( clientId )?.innerBlocks;\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst wasBlockJustInserted = useSelect(\n\t\t( select ) => {\n\t\t\treturn select( blockEditorStore ).wasBlockJustInserted(\n\t\t\t\tclientId,\n\t\t\t\t'inserter_menu'\n\t\t\t);\n\t\t},\n\t\t[ clientId ]\n\t);\n\n\tconst images = useMemo(\n\t\t() =>\n\t\t\tinnerBlockImages?.map( ( block ) => ( {\n\t\t\t\tclientId: block.clientId,\n\t\t\t\tid: block.attributes.id,\n\t\t\t\turl: block.attributes.url,\n\t\t\t\tattributes: block.attributes,\n\t\t\t\tfromSavedContent: Boolean( block.originalContent ),\n\t\t\t} ) ),\n\t\t[ innerBlockImages ]\n\t);\n\n\tconst imageData = useGetMedia( innerBlockImages );\n\n\tconst newImages = useGetNewImages( images, imageData );\n\n\tuseEffect( () => {\n\t\tnewImages?.forEach( ( newImage ) => {\n\t\t\t// Update the images data without creating new undo levels.\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tupdateBlockAttributes( newImage.clientId, {\n\t\t\t\t...buildImageAttributes( newImage.attributes ),\n\t\t\t\tid: newImage.id,\n\t\t\t\talign: undefined,\n\t\t\t} );\n\t\t} );\n\t\tif ( newImages?.length > 0 ) {\n\t\t\tclearSelectedBlock();\n\t\t}\n\t}, [ newImages ] );\n\n\tconst imageSizeOptions = useImageSizes(\n\t\timageData,\n\t\tisSelected,\n\t\tgetSettings\n\t);\n\n\t/**\n\t * Determines the image attributes that should be applied to an image block\n\t * after the gallery updates.\n\t *\n\t * The gallery will receive the full collection of images when a new image\n\t * is added. As a result we need to reapply the image's original settings if\n\t * it already existed in the gallery. If the image is in fact new, we need\n\t * to apply the gallery's current settings to the image.\n\t *\n\t * @param {Object} imageAttributes Media object for the actual image.\n\t * @return {Object}                Attributes to set on the new image block.\n\t */\n\tfunction buildImageAttributes( imageAttributes ) {\n\t\tconst image = imageAttributes.id\n\t\t\t? imageData.find( ( { id } ) => id === imageAttributes.id )\n\t\t\t: null;\n\n\t\tlet newClassName;\n\t\tif ( imageAttributes.className && imageAttributes.className !== '' ) {\n\t\t\tnewClassName = imageAttributes.className;\n\t\t} else {\n\t\t\tnewClassName = preferredStyle\n\t\t\t\t? `is-style-${ preferredStyle }`\n\t\t\t\t: undefined;\n\t\t}\n\n\t\tlet newLinkTarget;\n\t\tif ( imageAttributes.linkTarget || imageAttributes.rel ) {\n\t\t\t// When transformed from image blocks, the link destination and rel attributes are inherited.\n\t\t\tnewLinkTarget = {\n\t\t\t\tlinkTarget: imageAttributes.linkTarget,\n\t\t\t\trel: imageAttributes.rel,\n\t\t\t};\n\t\t} else {\n\t\t\t// When an image is added, update the link destination and rel attributes according to the gallery settings\n\t\t\tnewLinkTarget = getUpdatedLinkTargetSettings(\n\t\t\t\tlinkTarget,\n\t\t\t\tattributes\n\t\t\t);\n\t\t}\n\n\t\treturn {\n\t\t\t...pickRelevantMediaFiles( image, sizeSlug ),\n\t\t\t...getHrefAndDestination(\n\t\t\t\timage,\n\t\t\t\tlinkTo,\n\t\t\t\timageAttributes?.linkDestination\n\t\t\t),\n\t\t\t...newLinkTarget,\n\t\t\tclassName: newClassName,\n\t\t\tsizeSlug,\n\t\t\tcaption: imageAttributes.caption || image.caption?.raw,\n\t\t\talt: imageAttributes.alt || image.alt_text,\n\t\t};\n\t}\n\n\tfunction isValidFileType( file ) {\n\t\t// It's necessary to retrieve the media type from the raw image data for already-uploaded images on native.\n\t\tconst nativeFileData =\n\t\t\tPlatform.isNative && file.id\n\t\t\t\t? imageData.find( ( { id } ) => id === file.id )\n\t\t\t\t: null;\n\n\t\tconst mediaTypeSelector = nativeFileData\n\t\t\t? nativeFileData?.media_type\n\t\t\t: file.type;\n\n\t\treturn (\n\t\t\tALLOWED_MEDIA_TYPES.some(\n\t\t\t\t( mediaType ) => mediaTypeSelector?.indexOf( mediaType ) === 0\n\t\t\t) || file.url?.indexOf( 'blob:' ) === 0\n\t\t);\n\t}\n\n\tfunction updateImages( selectedImages ) {\n\t\tconst newFileUploads =\n\t\t\tObject.prototype.toString.call( selectedImages ) ===\n\t\t\t'[object FileList]';\n\n\t\tconst imageArray = newFileUploads\n\t\t\t? Array.from( selectedImages ).map( ( file ) => {\n\t\t\t\tif ( ! file.url ) {\n\t\t\t\t\treturn pickRelevantMediaFiles( {\n\t\t\t\t\t\turl: createBlobURL( file ),\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\treturn file;\n\t\t\t} )\n\t\t\t: selectedImages;\n\n\t\tif ( ! imageArray.every( isValidFileType ) ) {\n\t\t\tcreateErrorNotice(\n\t\t\t\t__(\n\t\t\t\t\t'If uploading to a gallery all files need to be image formats'\n\t\t\t\t),\n\t\t\t\t{ id: 'gallery-upload-invalid-file', type: 'snackbar' }\n\t\t\t);\n\t\t}\n\n\t\tconst processedImages = imageArray\n\t\t\t.filter( ( file ) => file.url || isValidFileType( file ) )\n\t\t\t.map( ( file ) => {\n\t\t\t\tif ( ! file.url ) {\n\t\t\t\t\treturn pickRelevantMediaFiles( {\n\t\t\t\t\t\turl: createBlobURL( file ),\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\treturn file;\n\t\t\t} );\n\n\t\t// Because we are reusing existing innerImage blocks any reordering\n\t\t// done in the media library will be lost so we need to reapply that ordering\n\t\t// once the new image blocks are merged in with existing.\n\t\tconst newOrderMap = processedImages.reduce(\n\t\t\t( result, image, index ) => (\n\t\t\t\t( result[ image.id ] = index ), result\n\t\t\t),\n\t\t\t{}\n\t\t);\n\n\t\tconst existingImageBlocks = ! newFileUploads\n\t\t\t? innerBlockImages.filter( ( block ) =>\n\t\t\t\tprocessedImages.find(\n\t\t\t\t\t( img ) => img.id === block.attributes.id\n\t\t\t\t)\n\t\t\t)\n\t\t\t: innerBlockImages;\n\n\t\tconst newImageList = processedImages.filter(\n\t\t\t( img ) =>\n\t\t\t\t! existingImageBlocks.find(\n\t\t\t\t\t( existingImg ) => img.id === existingImg.attributes.id\n\t\t\t\t)\n\t\t);\n\n\t\tconst newBlocks = newImageList.map( ( image ) => {\n\t\t\treturn createBlock( 'core/image', {\n\t\t\t\tid: image.id,\n\t\t\t\turl: image.url,\n\t\t\t\tcaption: image.caption,\n\t\t\t\talt: image.alt,\n\t\t\t} );\n\t\t} );\n\n\t\tif ( newBlocks?.length > 0 ) {\n\t\t\tselectBlock( newBlocks[ 0 ].clientId );\n\t\t}\n\n\t\treplaceInnerBlocks(\n\t\t\tclientId,\n\t\t\texistingImageBlocks\n\t\t\t\t.concat( newBlocks )\n\t\t\t\t.sort(\n\t\t\t\t\t( a, b ) =>\n\t\t\t\t\t\tnewOrderMap[ a.attributes.id ] -\n\t\t\t\t\t\tnewOrderMap[ b.attributes.id ]\n\t\t\t\t)\n\t\t);\n\t}\n\n\tfunction onUploadError( message ) {\n\t\tcreateErrorNotice( message, { type: 'snackbar' } );\n\t}\n\n\tfunction setLinkTo( value ) {\n\t\tsetAttributes( { linkTo: value } );\n\t\tconst changedAttributes = {};\n\t\tconst blocks = [];\n\t\tgetBlock( clientId ).innerBlocks.forEach( ( block ) => {\n\t\t\tblocks.push( block.clientId );\n\t\t\tconst image = block.attributes.id\n\t\t\t\t? imageData.find( ( { id } ) => id === block.attributes.id )\n\t\t\t\t: null;\n\t\t\tchangedAttributes[ block.clientId ] = getHrefAndDestination(\n\t\t\t\timage,\n\t\t\t\tvalue\n\t\t\t);\n\t\t} );\n\t\tupdateBlockAttributes( blocks, changedAttributes, true );\n\t\tconst linkToText = [ ...linkOptions ].find(\n\t\t\t( linkType ) => linkType.value === value\n\t\t);\n\n\t\tcreateSuccessNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: image size settings */\n\t\t\t\t__( 'All gallery image links updated to: %s' ),\n\t\t\t\tlinkToText.label\n\t\t\t),\n\t\t\t{\n\t\t\t\tid: 'gallery-attributes-linkTo',\n\t\t\t\ttype: 'snackbar',\n\t\t\t}\n\t\t);\n\t}\n\n\tfunction setColumnsNumber( value ) {\n\t\tsetAttributes( { columns: value } );\n\t}\n\n\tfunction toggleImageCrop() {\n\t\tsetAttributes( { imageCrop: ! imageCrop } );\n\t}\n\n\tfunction getImageCropHelp( checked ) {\n\t\treturn checked\n\t\t\t? __( 'Thumbnails are cropped to align.' )\n\t\t\t: __( 'Thumbnails are not cropped.' );\n\t}\n\n\tfunction toggleOpenInNewTab( openInNewTab ) {\n\t\tconst newLinkTarget = openInNewTab ? '_blank' : undefined;\n\t\tsetAttributes( { linkTarget: newLinkTarget } );\n\t\tconst changedAttributes = {};\n\t\tconst blocks = [];\n\t\tgetBlock( clientId ).innerBlocks.forEach( ( block ) => {\n\t\t\tblocks.push( block.clientId );\n\t\t\tchangedAttributes[ block.clientId ] = getUpdatedLinkTargetSettings(\n\t\t\t\tnewLinkTarget,\n\t\t\t\tblock.attributes\n\t\t\t);\n\t\t} );\n\t\tupdateBlockAttributes( blocks, changedAttributes, true );\n\t\tconst noticeText = openInNewTab\n\t\t\t? __( 'All gallery images updated to open in new tab' )\n\t\t\t: __( 'All gallery images updated to not open in new tab' );\n\t\tcreateSuccessNotice( noticeText, {\n\t\t\tid: 'gallery-attributes-openInNewTab',\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t}\n\n\tfunction updateImagesSize( newSizeSlug ) {\n\t\tsetAttributes( { sizeSlug: newSizeSlug } );\n\t\tconst changedAttributes = {};\n\t\tconst blocks = [];\n\t\tgetBlock( clientId ).innerBlocks.forEach( ( block ) => {\n\t\t\tblocks.push( block.clientId );\n\t\t\tconst image = block.attributes.id\n\t\t\t\t? imageData.find( ( { id } ) => id === block.attributes.id )\n\t\t\t\t: null;\n\t\t\tchangedAttributes[ block.clientId ] = getImageSizeAttributes(\n\t\t\t\timage,\n\t\t\t\tnewSizeSlug\n\t\t\t);\n\t\t} );\n\t\tupdateBlockAttributes( blocks, changedAttributes, true );\n\t\tconst imageSize = imageSizeOptions.find(\n\t\t\t( size ) => size.value === newSizeSlug\n\t\t);\n\n\t\tcreateSuccessNotice(\n\t\t\tsprintf(\n\t\t\t\t/* translators: %s: image size settings */\n\t\t\t\t__( 'All gallery image sizes updated to: %s' ),\n\t\t\t\timageSize.label\n\t\t\t),\n\t\t\t{\n\t\t\t\tid: 'gallery-attributes-sizeSlug',\n\t\t\t\ttype: 'snackbar',\n\t\t\t}\n\t\t);\n\t}\n\n\tuseEffect( () => {\n\t\t// linkTo attribute must be saved so blocks don't break when changing image_default_link_type in options.php.\n\t\tif ( ! linkTo ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( {\n\t\t\t\tlinkTo:\n\t\t\t\t\twindow?.wp?.media?.view?.settings?.defaultProps?.link ||\n\t\t\t\t\tLINK_DESTINATION_NONE,\n\t\t\t} );\n\t\t}\n\t}, [ linkTo ] );\n\n\tconst hasImages = !! images.length;\n\tconst hasImageIds = hasImages && images.some( ( image ) => !! image.id );\n\tconst imagesUploading = images.some( ( img ) =>\n\t\t! Platform.isNative\n\t\t\t? ! img.id && img.url?.indexOf( 'blob:' ) === 0\n\t\t\t: img.url?.indexOf( 'file:' ) === 0\n\t);\n\n\t// MediaPlaceholder props are different between web and native hence, we provide a platform-specific set.\n\tconst mediaPlaceholderProps = Platform.select( {\n\t\tweb: {\n\t\t\taddToGallery: false,\n\t\t\tdisableMediaButtons: imagesUploading,\n\t\t\tvalue: {},\n\t\t},\n\t\tnative: {\n\t\t\taddToGallery: hasImageIds,\n\t\t\tisAppender: hasImages,\n\t\t\tdisableMediaButtons:\n\t\t\t\t( hasImages && ! isSelected ) || imagesUploading,\n\t\t\tvalue: hasImageIds ? images : {},\n\t\t\tautoOpenMediaUpload:\n\t\t\t\t! hasImages && isSelected && wasBlockJustInserted,\n\t\t},\n\t} );\n\tconst mediaPlaceholder = (\n\t\t<MediaPlaceholder\n\t\t\thandleUpload={ false }\n\t\t\ticon={ sharedIcon }\n\t\t\tlabels={ {\n\t\t\t\ttitle: __( 'Gallery' ),\n\t\t\t\tinstructions: PLACEHOLDER_TEXT,\n\t\t\t} }\n\t\t\tonSelect={ updateImages }\n\t\t\taccept=\"image/*\"\n\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\tmultiple\n\t\t\tonError={ onUploadError }\n\t\t\t{ ...mediaPlaceholderProps }\n\t\t/>\n\t);\n\n\tconst blockProps = useBlockProps( {\n\t\tclassName: classnames( className, 'has-nested-images' ),\n\t} );\n\n\tconst nativeInnerBlockProps = Platform.isNative && {\n\t\tmarginHorizontal: 0,\n\t\tmarginVertical: 0,\n\t};\n\n\tconst innerBlocksProps = useInnerBlocksProps( blockProps, {\n\t\tallowedBlocks,\n\t\torientation: 'horizontal',\n\t\trenderAppender: false,\n\t\t...nativeInnerBlockProps,\n\t} );\n\n\tif ( ! hasImages ) {\n\t\treturn (\n\t\t\t<View { ...innerBlocksProps }>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t\t{ mediaPlaceholder }\n\t\t\t</View>\n\t\t);\n\t}\n\n\tconst hasLinkTo = linkTo && linkTo !== 'none';\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t{ images.length > 1 && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\tcolumns\n\t\t\t\t\t\t\t\t\t? columns\n\t\t\t\t\t\t\t\t\t: defaultColumnsNumber( images.length )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonChange={ setColumnsNumber }\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tmax={ Math.min( MAX_COLUMNS, images.length ) }\n\t\t\t\t\t\t\t{ ...MOBILE_CONTROL_PROPS_RANGE_CONTROL }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Crop images' ) }\n\t\t\t\t\t\tchecked={ !! imageCrop }\n\t\t\t\t\t\tonChange={ toggleImageCrop }\n\t\t\t\t\t\thelp={ getImageCropHelp }\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Link to' ) }\n\t\t\t\t\t\tvalue={ linkTo }\n\t\t\t\t\t\tonChange={ setLinkTo }\n\t\t\t\t\t\toptions={ linkOptions }\n\t\t\t\t\t\thideCancelButton={ true }\n\t\t\t\t\t/>\n\t\t\t\t\t{ hasLinkTo && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Open in new tab' ) }\n\t\t\t\t\t\t\tchecked={ linkTarget === '_blank' }\n\t\t\t\t\t\t\tonChange={ toggleOpenInNewTab }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ imageSizeOptions?.length > 0 && (\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Image size' ) }\n\t\t\t\t\t\t\tvalue={ sizeSlug }\n\t\t\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\t\t\tonChange={ updateImagesSize }\n\t\t\t\t\t\t\thideCancelButton={ true }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ Platform.isWeb && ! imageSizeOptions && hasImageIds && (\n\t\t\t\t\t\t<BaseControl className={ 'gallery-image-sizes' }>\n\t\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t\t{ __( 'Image size' ) }\n\t\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t\t\t<View className={ 'gallery-image-sizes__loading' }>\n\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t{ __( 'Loading options' ) }\n\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t</BaseControl>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<BlockControls group=\"block\">\n\t\t\t\t{ ! isContentLocked && (\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetShowCaption( ! showCaption );\n\t\t\t\t\t\t\tif ( showCaption && caption ) {\n\t\t\t\t\t\t\t\tsetAttributes( { caption: undefined } );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t\ticon={ captionIcon }\n\t\t\t\t\t\tisPressed={ showCaption }\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\tshowCaption\n\t\t\t\t\t\t\t\t? __( 'Remove caption' )\n\t\t\t\t\t\t\t\t: __( 'Add caption' )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</BlockControls>\n\t\t\t<BlockControls group=\"other\">\n\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\thandleUpload={ false }\n\t\t\t\t\tonSelect={ updateImages }\n\t\t\t\t\tname={ __( 'Add' ) }\n\t\t\t\t\tmultiple={ true }\n\t\t\t\t\tmediaIds={ images\n\t\t\t\t\t\t.filter( ( image ) => image.id )\n\t\t\t\t\t\t.map( ( image ) => image.id ) }\n\t\t\t\t\taddToGallery={ hasImageIds }\n\t\t\t\t/>\n\t\t\t</BlockControls>\n\t\t\t{ Platform.isWeb && (\n\t\t\t\t<GapStyles\n\t\t\t\t\tblockGap={ attributes.style?.spacing?.blockGap }\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<Gallery\n\t\t\t\t{ ...props }\n\t\t\t\tshowCaption={ showCaption }\n\t\t\t\tref={ Platform.isWeb ? captionRef : undefined }\n\t\t\t\timages={ images }\n\t\t\t\tmediaPlaceholder={\n\t\t\t\t\t! hasImages || Platform.isNative\n\t\t\t\t\t\t? mediaPlaceholder\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tblockProps={ innerBlocksProps }\n\t\t\t\tinsertBlocksAfter={ insertBlocksAfter }\n\t\t\t/>\n\t\t</>\n\t);\n}\nexport default compose( [ withViewportMatch( { isNarrow: '< small' } ) ] )(\n\tGalleryEdit\n);\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\nimport { View } from '@wordpress/primitives';\nimport { forwardRef } from '@wordpress/element';\n\nexport const Gallery = ( props, captionRef ) => {\n\tconst {\n\t\tattributes,\n\t\tisSelected,\n\t\tsetAttributes,\n\t\tmediaPlaceholder,\n\t\tinsertBlocksAfter,\n\t\tblockProps,\n\t\t__unstableLayoutClassNames: layoutClassNames,\n\t\tshowCaption,\n\t} = props;\n\n\tconst { align, columns, caption, imageCrop } = attributes;\n\n\treturn (\n\t\t<figure\n\t\t\t{ ...blockProps }\n\t\t\tclassName={ classnames(\n\t\t\t\tblockProps.className,\n\t\t\t\tlayoutClassNames,\n\t\t\t\t'blocks-gallery-grid', 'alex-slick-slider', 'alex-slick-slider-advanced-v2',\n\t\t\t{\n\t\t\t\t\t[ `align${ align }` ]: align,\n\t\t\t\t\t[ `columns-${ columns }` ]: columns !== undefined,\n\t\t\t\t\t[ `columns-default` ]: columns === undefined,\n\t\t\t\t\t'is-cropped': imageCrop,\n\t\t\t\t}\n\t\t\t) }\n\t\t>\n\t\t\t{ blockProps.children }\n\t\t\t{ isSelected && ! blockProps.children && (\n\t\t\t\t<View className=\"blocks-gallery-media-placeholder-wrapper\">\n\t\t\t\t\t{ mediaPlaceholder }\n\t\t\t\t</View>\n\t\t\t) }\n\t\t\t{ showCaption &&\n\t\t\t\t( ! RichText.isEmpty( caption ) || isSelected ) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\tidentifier=\"caption\"\n\t\t\t\t\t\taria-label={ __( 'Gallery caption text' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Write gallery caption' ) }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'blocks-gallery-caption',\n\t\t\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tref={ captionRef }\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( { caption: value } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\t\t\tinsertBlocksAfter(\n\t\t\t\t\t\t\t\tcreateBlock( getDefaultBlockName() )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t</figure>\n\t);\n};\n\nexport default forwardRef( Gallery );\n","/**\n * WordPress dependencies\n */\nimport {\n\tBlockList,\n\t__experimentalGetGapCSSValue as getGapCSSValue,\n} from '@wordpress/block-editor';\nimport { useContext, createPortal } from '@wordpress/element';\n\nexport default function GapStyles( { blockGap, clientId } ) {\n\tconst styleElement = useContext( BlockList.__unstableElementContext );\n\t// --gallery-block--gutter-size is deprecated. --wp--style--gallery-gap-default should be used by themes that want to set a default\n\t// gap on the gallery.\n\tconst fallbackValue = `var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) )`;\n\tlet gapValue = fallbackValue;\n\tlet column = fallbackValue;\n\tlet row;\n\n\t// Check for the possibility of split block gap values. See: https://github.com/WordPress/gutenberg/pull/37736\n\tif ( !! blockGap ) {\n\t\trow =\n\t\t\ttypeof blockGap === 'string'\n\t\t\t\t? getGapCSSValue( blockGap )\n\t\t\t\t: getGapCSSValue( blockGap?.top ) || fallbackValue;\n\t\tcolumn =\n\t\t\ttypeof blockGap === 'string'\n\t\t\t\t? getGapCSSValue( blockGap )\n\t\t\t\t: getGapCSSValue( blockGap?.left ) || fallbackValue;\n\t\tgapValue = row === column ? row : `${ row } ${ column }`;\n\t}\n\n\t// The unstable gallery gap calculation requires a real value (such as `0px`) and not `0`.\n\tconst gap = `#block-${ clientId } {\n\t\t--wp--style--unstable-gallery-gap: ${ column === '0' ? '0px' : column };\n\t\tgap: ${ gapValue }\n\t}`;\n\n\tconst GapStyle = () => {\n\t\treturn <style>{ gap }</style>;\n\t};\n\n\treturn gap && styleElement\n\t\t? createPortal( <GapStyle />, styleElement )\n\t\t: null;\n}\n","export const MIN_SIZE = 20;\nexport const LINK_DESTINATION_NONE = 'none';\nexport const LINK_DESTINATION_MEDIA = 'media';\nexport const LINK_DESTINATION_ATTACHMENT = 'attachment';\nexport const LINK_DESTINATION_CUSTOM = 'custom';\nexport const NEW_TAB_REL = [ 'noreferrer', 'noopener' ];\nexport const ALLOWED_MEDIA_TYPES = [ 'image' ];\nexport const MEDIA_ID_NO_FEATURED_IMAGE_SET = 0;\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport { NEW_TAB_REL } from './constants';\n\nexport function removeNewTabRel( currentRel ) {\n\tlet newRel = currentRel;\n\n\tif ( currentRel !== undefined && ! isEmpty( newRel ) ) {\n\t\tif ( ! isEmpty( newRel ) ) {\n\t\t\tNEW_TAB_REL.forEach( ( relVal ) => {\n\t\t\t\tconst regExp = new RegExp( '\\\\b' + relVal + '\\\\b', 'gi' );\n\t\t\t\tnewRel = newRel.replace( regExp, '' );\n\t\t\t} );\n\n\t\t\t// Only trim if NEW_TAB_REL values was replaced.\n\t\t\tif ( newRel !== currentRel ) {\n\t\t\t\tnewRel = newRel.trim();\n\t\t\t}\n\n\t\t\tif ( isEmpty( newRel ) ) {\n\t\t\t\tnewRel = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newRel;\n}\n\n/**\n * Helper to get the link target settings to be stored.\n *\n * @param {boolean} value          The new link target value.\n * @param {Object}  attributes     Block attributes.\n * @param {Object}  attributes.rel Image block's rel attribute.\n *\n * @return {Object} Updated link target settings.\n */\nexport function getUpdatedLinkTargetSettings( value, { rel } ) {\n\tconst linkTarget = value ? '_blank' : undefined;\n\n\tlet updatedRel;\n\tif ( ! linkTarget && ! rel ) {\n\t\tupdatedRel = undefined;\n\t} else {\n\t\tupdatedRel = removeNewTabRel( rel );\n\t}\n\n\treturn {\n\t\tlinkTarget,\n\t\trel: updatedRel,\n\t};\n}\n\n/**\n * Determines new Image block attributes size selection.\n *\n * @param {Object} image Media file object for gallery image.\n * @param {string} size  Selected size slug to apply.\n */\nexport function getImageSizeAttributes( image, size ) {\n\tconst url = image?.media_details?.sizes?.[ size ]?.source_url;\n\n\tif ( url ) {\n\t\treturn { url, width: undefined, height: undefined, sizeSlug: size };\n\t}\n\n\treturn {};\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\tuseInnerBlocksProps,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport saveWithoutInnerBlocks from './v1/save';\nimport { isGalleryV2Enabled } from './shared';\n\nexport default function saveWithInnerBlocks( { attributes } ) {\n\tif ( ! isGalleryV2Enabled() ) {\n\t\treturn saveWithoutInnerBlocks( { attributes } );\n\t}\n\n\tconst { caption, columns, imageCrop } = attributes;\n\n\tconst className = classnames( 'has-nested-images', {\n\t\t[ `columns-${ columns }` ]: columns !== undefined,\n\t\t[ `columns-default` ]: columns === undefined,\n\t\t'is-cropped': imageCrop,\n\t\t'alex-slick-slider': true , 'alex-slick-slider-advanced-v2':true ,'alex-gutenberg-slick-slider':true\n\t} );\n\tconst blockProps = useBlockProps.save( { className } );\n\tconst innerBlocksProps = useInnerBlocksProps.save( blockProps );\n\n\treturn (\n\t\t<figure { ...innerBlocksProps }>\n\t\t\t<div className={`slider-img`}>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'blocks-gallery-caption',\n\t\t\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t<div className={`slider-nav`}>\n\t\t\t\t{ innerBlocksProps.children }\n\t\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t'blocks-gallery-caption',\n\t\t\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</figure>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { gallery as icon } from '@wordpress/icons';\n\nexport const sharedIcon = <BlockIcon icon={ icon } />;\n","/**\n * WordPress dependencies\n */\nimport { Platform } from '@wordpress/element';\n\nexport function defaultColumnsNumber( imageCount ) {\n\treturn imageCount ? Math.min( 3, imageCount ) : 3;\n}\n\nexport const pickRelevantMediaFiles = ( image, sizeSlug = 'large' ) => {\n\tconst imageProps = Object.fromEntries(\n\t\tObject.entries( image ?? {} ).filter( ( [ key ] ) =>\n\t\t\t[ 'alt', 'id', 'link' ].includes( key )\n\t\t)\n\t);\n\n\timageProps.url =\n\t\timage?.sizes?.[ sizeSlug ]?.url ||\n\t\timage?.media_details?.sizes?.[ sizeSlug ]?.source_url ||\n\t\timage?.url ||\n\t\timage?.source_url;\n\tconst fullUrl =\n\t\timage?.sizes?.full?.url ||\n\t\timage?.media_details?.sizes?.full?.source_url;\n\tif ( fullUrl ) {\n\t\timageProps.fullUrl = fullUrl;\n\t}\n\treturn imageProps;\n};\n\nfunction getGalleryBlockV2Enabled() {\n\t// We want to fail early here, at least during beta testing phase, to ensure\n\t// there aren't instances where undefined values cause false negatives.\n\tif ( ! window.wp || typeof window.wp.galleryBlockV2Enabled !== 'boolean' ) {\n\t\tthrow 'window.wp.galleryBlockV2Enabled is not defined';\n\t}\n\treturn window.wp.galleryBlockV2Enabled;\n}\n\n/**\n * The new gallery block format is not compatible with the use_BalanceTags option\n * in WP versions <= 5.8 https://core.trac.wordpress.org/ticket/54130. The\n * window.wp.galleryBlockV2Enabled flag is set in lib/compat.php. This method\n * can be removed when minimum supported WP version >=5.9.\n */\nexport function isGalleryV2Enabled() {\n\tif ( Platform.isNative ) {\n\t\treturn getGalleryBlockV2Enabled();\n\t}\n\n\treturn true;\n}\n","/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\nimport { createBlobURL } from '@wordpress/blob';\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_NONE,\n\tLINK_DESTINATION_MEDIA,\n} from './constants';\nimport {\n\tLINK_DESTINATION_ATTACHMENT as DEPRECATED_LINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA as DEPRECATED_LINK_DESTINATION_MEDIA,\n} from './v1/constants';\nimport { pickRelevantMediaFiles, isGalleryV2Enabled } from './shared';\n\nconst parseShortcodeIds = ( ids ) => {\n\tif ( ! ids ) {\n\t\treturn [];\n\t}\n\n\treturn ids.split( ',' ).map( ( id ) => parseInt( id, 10 ) );\n};\n\n/**\n * Third party block plugins don't have an easy way to detect if the\n * innerBlocks version of the Gallery is running when they run a\n * 3rdPartyBlock -> GalleryBlock transform so this tranform filter\n * will handle this. Once the innerBlocks version is the default\n * in a core release, this could be deprecated and removed after\n * plugin authors have been given time to update transforms.\n *\n * @typedef  {Object} Attributes\n * @typedef  {Object} Block\n * @property {Attributes} attributes The attributes of the block.\n * @param    {Block}      block      The transformed block.\n * @return   {Block}                 The transformed block.\n */\nfunction updateThirdPartyTransformToGallery( block ) {\n\tif (\n\t\tisGalleryV2Enabled() &&\n\t\tblock.name === 'core/gallery' &&\n\t\tblock.attributes?.images.length > 0\n\t) {\n\t\tconst innerBlocks = block.attributes.images.map(\n\t\t\t( { url, id, alt } ) => {\n\t\t\t\treturn createBlock( 'core/image', {\n\t\t\t\t\turl,\n\t\t\t\t\tid: id ? parseInt( id, 10 ) : null,\n\t\t\t\t\talt,\n\t\t\t\t\tsizeSlug: block.attributes.sizeSlug,\n\t\t\t\t\tlinkDestination: block.attributes.linkDestination,\n\t\t\t\t} );\n\t\t\t}\n\t\t);\n\n\t\tdelete block.attributes.ids;\n\t\tdelete block.attributes.images;\n\t\tblock.innerBlocks = innerBlocks;\n\t}\n\n\treturn block;\n}\naddFilter(\n\t'blocks.switchToBlockType.transformedBlock',\n\t'core/gallery/update-third-party-transform-to',\n\tupdateThirdPartyTransformToGallery\n);\n\n/**\n * Third party block plugins don't have an easy way to detect if the\n * innerBlocks version of the Gallery is running when they run a\n * GalleryBlock -> 3rdPartyBlock transform so this transform filter\n * will handle this. Once the innerBlocks version is the default\n * in a core release, this could be deprecated and removed after\n * plugin authors have been given time to update transforms.\n *\n * @typedef  {Object} Attributes\n * @typedef  {Object} Block\n * @property {Attributes} attributes The attributes of the block.\n * @param    {Block}      toBlock    The block to transform to.\n * @param    {Block[]}    fromBlocks The blocks to transform from.\n * @return   {Block}                 The transformed block.\n */\nfunction updateThirdPartyTransformFromGallery( toBlock, fromBlocks ) {\n\tconst from = Array.isArray( fromBlocks ) ? fromBlocks : [ fromBlocks ];\n\tconst galleryBlock = from.find(\n\t\t( transformedBlock ) =>\n\t\t\ttransformedBlock.name === 'core/gallery' &&\n\t\t\ttransformedBlock.innerBlocks.length > 0 &&\n\t\t\t! transformedBlock.attributes.images?.length > 0 &&\n\t\t\t! toBlock.name.includes( 'core/' )\n\t);\n\n\tif ( galleryBlock ) {\n\t\tconst images = galleryBlock.innerBlocks.map(\n\t\t\t( { attributes: { url, id, alt } } ) => ( {\n\t\t\t\turl,\n\t\t\t\tid: id ? parseInt( id, 10 ) : null,\n\t\t\t\talt,\n\t\t\t} )\n\t\t);\n\t\tconst ids = images.map( ( { id } ) => id );\n\t\tgalleryBlock.attributes.images = images;\n\t\tgalleryBlock.attributes.ids = ids;\n\t}\n\n\treturn toBlock;\n}\naddFilter(\n\t'blocks.switchToBlockType.transformedBlock',\n\t'core/gallery/update-third-party-transform-from',\n\tupdateThirdPartyTransformFromGallery\n);\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tisMultiBlock: true,\n\t\t\tblocks: [ 'core/image' ],\n\t\t\ttransform: ( attributes ) => {\n\t\t\t\t// Init the align and size from the first item which may be either the placeholder or an image.\n\t\t\t\tlet { align, sizeSlug } = attributes[ 0 ];\n\t\t\t\t// Loop through all the images and check if they have the same align and size.\n\t\t\t\talign = attributes.every(\n\t\t\t\t\t( attribute ) => attribute.align === align\n\t\t\t\t)\n\t\t\t\t\t? align\n\t\t\t\t\t: undefined;\n\t\t\t\tsizeSlug = attributes.every(\n\t\t\t\t\t( attribute ) => attribute.sizeSlug === sizeSlug\n\t\t\t\t)\n\t\t\t\t\t? sizeSlug\n\t\t\t\t\t: undefined;\n\n\t\t\t\tconst validImages = attributes.filter( ( { url } ) => url );\n\n\t\t\t\tif ( isGalleryV2Enabled() ) {\n\t\t\t\t\tconst innerBlocks = validImages.map( ( image ) => {\n\t\t\t\t\t\t// Gallery images can't currently be resized so make sure height and width are undefined.\n\t\t\t\t\t\timage.width = undefined;\n\t\t\t\t\t\timage.height = undefined;\n\t\t\t\t\t\treturn createBlock( 'core/image', image );\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn createBlock(\n\t\t\t\t\t\t'core/gallery',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\talign,\n\t\t\t\t\t\t\tsizeSlug,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinnerBlocks\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn createBlock( 'core/gallery', {\n\t\t\t\t\timages: validImages.map(\n\t\t\t\t\t\t( { id, url, alt, caption } ) => ( {\n\t\t\t\t\t\t\tid: id.toString(),\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\talt,\n\t\t\t\t\t\t\tcaption,\n\t\t\t\t\t\t} )\n\t\t\t\t\t),\n\t\t\t\t\tids: validImages.map( ( { id } ) => parseInt( id, 10 ) ),\n\t\t\t\t\talign,\n\t\t\t\t\tsizeSlug,\n\t\t\t\t} );\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'shortcode',\n\t\t\ttag: 'gallery',\n\n\t\t\tattributes: {\n\t\t\t\timages: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tshortcode: ( { named: { ids } } ) => {\n\t\t\t\t\t\tif ( ! isGalleryV2Enabled() ) {\n\t\t\t\t\t\t\treturn parseShortcodeIds( ids ).map( ( id ) => ( {\n\t\t\t\t\t\t\t\tid: id.toString(),\n\t\t\t\t\t\t\t} ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tids: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tshortcode: ( { named: { ids } } ) => {\n\t\t\t\t\t\tif ( ! isGalleryV2Enabled() ) {\n\t\t\t\t\t\t\treturn parseShortcodeIds( ids );\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tcolumns: {\n\t\t\t\t\ttype: 'number',\n\t\t\t\t\tshortcode: ( { named: { columns = '3' } } ) => {\n\t\t\t\t\t\treturn parseInt( columns, 10 );\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tlinkTo: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tshortcode: ( { named: { link } } ) => {\n\t\t\t\t\t\tif ( ! isGalleryV2Enabled() ) {\n\t\t\t\t\t\t\tswitch ( link ) {\n\t\t\t\t\t\t\t\tcase 'post':\n\t\t\t\t\t\t\t\t\treturn DEPRECATED_LINK_DESTINATION_ATTACHMENT;\n\t\t\t\t\t\t\t\tcase 'file':\n\t\t\t\t\t\t\t\t\treturn DEPRECATED_LINK_DESTINATION_MEDIA;\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn DEPRECATED_LINK_DESTINATION_ATTACHMENT;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch ( link ) {\n\t\t\t\t\t\t\tcase 'post':\n\t\t\t\t\t\t\t\treturn LINK_DESTINATION_ATTACHMENT;\n\t\t\t\t\t\t\tcase 'file':\n\t\t\t\t\t\t\t\treturn LINK_DESTINATION_MEDIA;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\treturn LINK_DESTINATION_NONE;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransform( { named: { ids, columns = 3, link } } ) {\n\t\t\t\tconst imageIds = parseShortcodeIds( ids ).map( ( id ) =>\n\t\t\t\t\tparseInt( id, 10 )\n\t\t\t\t);\n\n\t\t\t\tlet linkTo = LINK_DESTINATION_NONE;\n\t\t\t\tif ( link === 'post' ) {\n\t\t\t\t\tlinkTo = LINK_DESTINATION_ATTACHMENT;\n\t\t\t\t} else if ( link === 'file' ) {\n\t\t\t\t\tlinkTo = LINK_DESTINATION_MEDIA;\n\t\t\t\t}\n\n\t\t\t\tconst galleryBlock = createBlock(\n\t\t\t\t\t'core/gallery',\n\t\t\t\t\t{\n\t\t\t\t\t\tcolumns: parseInt( columns, 10 ),\n\t\t\t\t\t\tlinkTo,\n\t\t\t\t\t},\n\t\t\t\t\timageIds.map( ( imageId ) =>\n\t\t\t\t\t\tcreateBlock( 'core/image', { id: imageId } )\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\treturn galleryBlock;\n\t\t\t},\n\t\t\tisMatch( { named } ) {\n\t\t\t\treturn undefined !== named.ids;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\t// When created by drag and dropping multiple files on an insertion point. Because multiple\n\t\t\t// files must not be transformed to a gallery when dropped within a gallery there is another transform\n\t\t\t// within the image block to handle that case. Therefore this transform has to have priority 1\n\t\t\t// set so that it overrrides the image block transformation when mulitple images are dropped outside\n\t\t\t// of a gallery block.\n\t\t\ttype: 'files',\n\t\t\tpriority: 1,\n\t\t\tisMatch( files ) {\n\t\t\t\treturn (\n\t\t\t\t\tfiles.length !== 1 &&\n\t\t\t\t\tfiles.every(\n\t\t\t\t\t\t( file ) => file.type.indexOf( 'image/' ) === 0\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t},\n\t\t\ttransform( files ) {\n\t\t\t\tif ( isGalleryV2Enabled() ) {\n\t\t\t\t\tconst innerBlocks = files.map( ( file ) =>\n\t\t\t\t\t\tcreateBlock( 'core/image', {\n\t\t\t\t\t\t\turl: createBlobURL( file ),\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\n\t\t\t\t\treturn createBlock( 'core/gallery', {}, innerBlocks );\n\t\t\t\t}\n\t\t\t\tconst block = createBlock( 'core/gallery', {\n\t\t\t\t\timages: files.map( ( file ) =>\n\t\t\t\t\t\tpickRelevantMediaFiles( {\n\t\t\t\t\t\t\turl: createBlobURL( file ),\n\t\t\t\t\t\t} )\n\t\t\t\t\t),\n\t\t\t\t} );\n\t\t\t\treturn block;\n\t\t\t},\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: [ 'core/image' ],\n\t\t\ttransform: ( { align, images, ids, sizeSlug }, innerBlocks ) => {\n\t\t\t\tif ( isGalleryV2Enabled() ) {\n\t\t\t\t\tif ( innerBlocks.length > 0 ) {\n\t\t\t\t\t\treturn innerBlocks.map(\n\t\t\t\t\t\t\t( {\n\t\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\t\talt,\n\t\t\t\t\t\t\t\t\tcaption,\n\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\thref,\n\t\t\t\t\t\t\t\t\trel,\n\t\t\t\t\t\t\t\t\tlinkClass,\n\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\tsizeSlug: imageSizeSlug,\n\t\t\t\t\t\t\t\t\tlinkDestination,\n\t\t\t\t\t\t\t\t\tlinkTarget,\n\t\t\t\t\t\t\t\t\tanchor,\n\t\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t} ) =>\n\t\t\t\t\t\t\t\tcreateBlock( 'core/image', {\n\t\t\t\t\t\t\t\t\talign,\n\t\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\t\talt,\n\t\t\t\t\t\t\t\t\tcaption,\n\t\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\t\thref,\n\t\t\t\t\t\t\t\t\trel,\n\t\t\t\t\t\t\t\t\tlinkClass,\n\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\tsizeSlug: imageSizeSlug,\n\t\t\t\t\t\t\t\t\tlinkDestination,\n\t\t\t\t\t\t\t\t\tlinkTarget,\n\t\t\t\t\t\t\t\t\tanchor,\n\t\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn createBlock( 'core/image', { align } );\n\t\t\t\t}\n\t\t\t\tif ( images.length > 0 ) {\n\t\t\t\t\treturn images.map( ( { url, alt, caption }, index ) =>\n\t\t\t\t\t\tcreateBlock( 'core/image', {\n\t\t\t\t\t\t\tid: ids[ index ],\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\talt,\n\t\t\t\t\t\t\tcaption,\n\t\t\t\t\t\t\talign,\n\t\t\t\t\t\t\tsizeSlug,\n\t\t\t\t\t\t} )\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn createBlock( 'core/image', { align } );\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\nconst EMPTY_IMAGE_MEDIA = [];\n\n/**\n * Retrieves the extended media info for each gallery image from the store. This is used to\n * determine which image size options are available for the current gallery.\n *\n * @param {Array} innerBlockImages An array of the innerBlock images currently in the gallery.\n *\n * @return {Array} An array of media info options for each gallery image.\n */\nexport default function useGetMedia( innerBlockImages ) {\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst imageIds = innerBlockImages\n\t\t\t\t.map( ( imageBlock ) => imageBlock.attributes.id )\n\t\t\t\t.filter( ( id ) => id !== undefined );\n\n\t\t\tif ( imageIds.length === 0 ) {\n\t\t\t\treturn EMPTY_IMAGE_MEDIA;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\tselect( coreStore ).getMediaItems( {\n\t\t\t\t\tinclude: imageIds.join( ',' ),\n\t\t\t\t\tper_page: -1,\n\t\t\t\t\torderby: 'include',\n\t\t\t\t} ) ?? EMPTY_IMAGE_MEDIA\n\t\t\t);\n\t\t},\n\t\t[ innerBlockImages ]\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useMemo, useState } from '@wordpress/element';\n\n/**\n * Keeps track of images already in the gallery to allow new innerBlocks to be identified. This\n * is required so default gallery attributes can be applied without overwriting any custom\n * attributes applied to existing images.\n *\n * @param {Array} images    Basic image block data taken from current gallery innerBlock\n * @param {Array} imageData The related image data for each of the current gallery images.\n *\n * @return {Array} An array of any new images that have been added to the gallery.\n */\nexport default function useGetNewImages( images, imageData ) {\n\tconst [ currentImages, setCurrentImages ] = useState( [] );\n\n\treturn useMemo( () => getNewImages(), [ images, imageData ] );\n\n\tfunction getNewImages() {\n\t\tlet imagesUpdated = false;\n\n\t\t// First lets check if any images have been deleted.\n\t\tconst newCurrentImages = currentImages.filter( ( currentImg ) =>\n\t\t\timages.find( ( img ) => {\n\t\t\t\treturn currentImg.clientId === img.clientId;\n\t\t\t} )\n\t\t);\n\n\t\tif ( newCurrentImages.length < currentImages.length ) {\n\t\t\timagesUpdated = true;\n\t\t}\n\n\t\t// Now lets see if we have any images hydrated from saved content and if so\n\t\t// add them to currentImages state.\n\t\timages.forEach( ( image ) => {\n\t\t\tif (\n\t\t\t\timage.fromSavedContent &&\n\t\t\t\t! newCurrentImages.find(\n\t\t\t\t\t( currentImage ) => currentImage.id === image.id\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\timagesUpdated = true;\n\t\t\t\tnewCurrentImages.push( image );\n\t\t\t}\n\t\t} );\n\n\t\t// Now check for any new images that have been added to InnerBlocks and for which\n\t\t// we have the imageData we need for setting default block attributes.\n\t\tconst newImages = images.filter(\n\t\t\t( image ) =>\n\t\t\t\t! newCurrentImages.find(\n\t\t\t\t\t( currentImage ) =>\n\t\t\t\t\t\timage.clientId &&\n\t\t\t\t\t\tcurrentImage.clientId === image.clientId\n\t\t\t\t) &&\n\t\t\t\timageData?.find( ( img ) => img.id === image.id ) &&\n\t\t\t\t! image.fromSavedConent\n\t\t);\n\n\t\tif ( imagesUpdated || newImages?.length > 0 ) {\n\t\t\tsetCurrentImages( [ ...newCurrentImages, ...newImages ] );\n\t\t}\n\n\t\treturn newImages.length > 0 ? newImages : null;\n\t}\n}\n","/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Calculates the image sizes that are avaible for the current gallery images in order to\n * populate the 'Image size' selector.\n *\n * @param {Array}    images      Basic image block data taken from current gallery innerBlock\n * @param {boolean}  isSelected  Is the block currently selected in the editor.\n * @param {Function} getSettings Block editor store selector.\n *\n * @return {Array} An array of image size options.\n */\nexport default function useImageSizes( images, isSelected, getSettings ) {\n\treturn useMemo( () => getImageSizing(), [ images, isSelected ] );\n\n\tfunction getImageSizing() {\n\t\tif ( ! images || images.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\t\tconst { imageSizes } = getSettings();\n\t\tlet resizedImages = {};\n\n\t\tif ( isSelected ) {\n\t\t\tresizedImages = images.reduce( ( currentResizedImages, img ) => {\n\t\t\t\tif ( ! img.id ) {\n\t\t\t\t\treturn currentResizedImages;\n\t\t\t\t}\n\n\t\t\t\tconst sizes = imageSizes.reduce( ( currentSizes, size ) => {\n\t\t\t\t\tconst defaultUrl = img.sizes?.[ size.slug ]?.url;\n\t\t\t\t\tconst mediaDetailsUrl =\n\t\t\t\t\t\timg.media_details?.sizes?.[ size.slug ]?.source_url;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...currentSizes,\n\t\t\t\t\t\t[ size.slug ]: defaultUrl || mediaDetailsUrl,\n\t\t\t\t\t};\n\t\t\t\t}, {} );\n\t\t\t\treturn {\n\t\t\t\t\t...currentResizedImages,\n\t\t\t\t\t[ parseInt( img.id, 10 ) ]: sizes,\n\t\t\t\t};\n\t\t\t}, {} );\n\t\t}\n\t\tconst resizedImageSizes = Object.values( resizedImages );\n\t\treturn imageSizes\n\t\t\t.filter( ( { slug } ) =>\n\t\t\t\tresizedImageSizes.some( ( sizes ) => sizes[ slug ] )\n\t\t\t)\n\t\t\t.map( ( { name, slug } ) => ( { value: slug, label: name } ) );\n\t}\n}\n","/**\n * Internal dependencies\n */\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE,\n\tLINK_DESTINATION_MEDIA_WP_CORE,\n\tLINK_DESTINATION_ATTACHMENT_WP_CORE,\n} from './constants';\nimport {\n\tLINK_DESTINATION_ATTACHMENT as IMAGE_LINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA as IMAGE_LINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE as IMAGE_LINK_DESTINATION_NONE,\n} from './image/constants';\n\n/**\n * Determines new href and linkDestination values for an Image block from the\n * supplied Gallery link destination, or falls back to the Image blocks link.\n *\n * @param {Object} image              Gallery image.\n * @param {string} galleryDestination Gallery's selected link destination.\n * @param {Object} imageDestination   Image blocks attributes.\n * @return {Object}            New attributes to assign to image block.\n */\nexport function getHrefAndDestination(\n\timage,\n\tgalleryDestination,\n\timageDestination\n) {\n\t// Gutenberg and WordPress use different constants so if image_default_link_type\n\t// option is set we need to map from the WP Core values.\n\tswitch ( imageDestination ? imageDestination : galleryDestination ) {\n\t\tcase LINK_DESTINATION_MEDIA_WP_CORE:\n\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\treturn {\n\t\t\t\thref: image?.source_url || image?.url, // eslint-disable-line camelcase\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_MEDIA,\n\t\t\t};\n\t\tcase LINK_DESTINATION_ATTACHMENT_WP_CORE:\n\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\treturn {\n\t\t\t\thref: image?.link,\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_ATTACHMENT,\n\t\t\t};\n\t\tcase LINK_DESTINATION_NONE:\n\t\t\treturn {\n\t\t\t\thref: undefined,\n\t\t\t\tlinkDestination: IMAGE_LINK_DESTINATION_NONE,\n\t\t\t};\n\t}\n\n\treturn {};\n}\n","export const LINK_DESTINATION_NONE = 'none';\nexport const LINK_DESTINATION_MEDIA = 'file';\nexport const LINK_DESTINATION_ATTACHMENT = 'post';\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport {\n\tPanelBody,\n\tSelectControl,\n\tToggleControl,\n\twithNotices,\n\tRangeControl,\n} from '@wordpress/components';\nimport {\n\tMediaPlaceholder,\n\tInspectorControls,\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { Platform, useEffect, useState, useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { getBlobByURL, isBlobURL, revokeBlobURL } from '@wordpress/blob';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { View } from '@wordpress/primitives';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { sharedIcon } from '../shared-icon';\nimport { pickRelevantMediaFiles } from './shared';\nimport { defaultColumnsNumberV1 } from '../deprecated';\nimport Gallery from './gallery';\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n\tLINK_DESTINATION_NONE,\n} from './constants';\n\nconst MAX_COLUMNS = 8;\nconst linkOptions = [\n\t{ value: LINK_DESTINATION_ATTACHMENT, label: __( 'Attachment Page' ) },\n\t{ value: LINK_DESTINATION_MEDIA, label: __( 'Media File' ) },\n\t{ value: LINK_DESTINATION_NONE, label: __( 'None' ) },\n];\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nconst PLACEHOLDER_TEXT = Platform.select( {\n\tweb: __(\n\t\t'Drag images, upload new ones or select files from your library.'\n\t),\n\tnative: __( 'ADD MEDIA' ),\n} );\n\nconst MOBILE_CONTROL_PROPS_RANGE_CONTROL = Platform.select( {\n\tweb: {},\n\tnative: { type: 'stepper' },\n} );\n\nfunction GalleryEdit( props ) {\n\tconst {\n\t\tattributes,\n\t\tclientId,\n\t\tisSelected,\n\t\tnoticeUI,\n\t\tnoticeOperations,\n\t\tonFocus,\n\t} = props;\n\tconst {\n\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\timageCrop,\n\t\timages,\n\t\tlinkTo,\n\t\tsizeSlug,\n\t} = attributes;\n\tconst [ selectedImage, setSelectedImage ] = useState();\n\tconst [ attachmentCaptions, setAttachmentCaptions ] = useState();\n\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\n\tconst { imageSizes, mediaUpload, getMedia, wasBlockJustInserted } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst settings = select( blockEditorStore ).getSettings();\n\n\t\t\treturn {\n\t\t\t\timageSizes: settings.imageSizes,\n\t\t\t\tmediaUpload: settings.mediaUpload,\n\t\t\t\tgetMedia: select( coreStore ).getMedia,\n\t\t\t\twasBlockJustInserted: select(\n\t\t\t\t\tblockEditorStore\n\t\t\t\t).wasBlockJustInserted( clientId, 'inserter_menu' ),\n\t\t\t};\n\t\t} );\n\n\tconst resizedImages = useMemo( () => {\n\t\tif ( isSelected ) {\n\t\t\treturn ( attributes.ids ?? [] ).reduce(\n\t\t\t\t( currentResizedImages, id ) => {\n\t\t\t\t\tif ( ! id ) {\n\t\t\t\t\t\treturn currentResizedImages;\n\t\t\t\t\t}\n\t\t\t\t\tconst image = getMedia( id );\n\t\t\t\t\tconst sizes = imageSizes.reduce( ( currentSizes, size ) => {\n\t\t\t\t\t\tconst defaultUrl = image?.sizes?.[ size.slug ]?.url;\n\t\t\t\t\t\tconst mediaDetailsUrl =\n\t\t\t\t\t\t\timage?.media_details?.sizes?.[ size.slug ]\n\t\t\t\t\t\t\t\t?.source_url;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...currentSizes,\n\t\t\t\t\t\t\t[ size.slug ]: defaultUrl || mediaDetailsUrl,\n\t\t\t\t\t\t};\n\t\t\t\t\t}, {} );\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...currentResizedImages,\n\t\t\t\t\t\t[ parseInt( id, 10 ) ]: sizes,\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\t}\n\t\treturn {};\n\t}, [ isSelected, attributes.ids, imageSizes ] );\n\n\tfunction onFocusGalleryCaption() {\n\t\tsetSelectedImage();\n\t}\n\n\tfunction setAttributes( newAttrs ) {\n\t\tif ( newAttrs.ids ) {\n\t\t\tthrow new Error(\n\t\t\t\t'The \"ids\" attribute should not be changed directly. It is managed automatically when \"images\" attribute changes'\n\t\t\t);\n\t\t}\n\n\t\tif ( newAttrs.images ) {\n\t\t\tnewAttrs = {\n\t\t\t\t...newAttrs,\n\t\t\t\t// Unlike images[ n ].id which is a string, always ensure the\n\t\t\t\t// ids array contains numbers as per its attribute type.\n\t\t\t\tids: newAttrs.images.map( ( { id } ) => parseInt( id, 10 ) ),\n\t\t\t};\n\t\t}\n\n\t\tprops.setAttributes( newAttrs );\n\t}\n\n\tfunction onSelectImage( index ) {\n\t\treturn () => {\n\t\t\tsetSelectedImage( index );\n\t\t};\n\t}\n\n\tfunction onDeselectImage() {\n\t\treturn () => {\n\t\t\tsetSelectedImage();\n\t\t};\n\t}\n\n\tfunction onMove( oldIndex, newIndex ) {\n\t\tconst newImages = [ ...images ];\n\t\tnewImages.splice( newIndex, 1, images[ oldIndex ] );\n\t\tnewImages.splice( oldIndex, 1, images[ newIndex ] );\n\t\tsetSelectedImage( newIndex );\n\t\tsetAttributes( { images: newImages } );\n\t}\n\n\tfunction onMoveForward( oldIndex ) {\n\t\treturn () => {\n\t\t\tif ( oldIndex === images.length - 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonMove( oldIndex, oldIndex + 1 );\n\t\t};\n\t}\n\n\tfunction onMoveBackward( oldIndex ) {\n\t\treturn () => {\n\t\t\tif ( oldIndex === 0 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonMove( oldIndex, oldIndex - 1 );\n\t\t};\n\t}\n\n\tfunction onRemoveImage( index ) {\n\t\treturn () => {\n\t\t\tconst newImages = images.filter( ( img, i ) => index !== i );\n\t\t\tsetSelectedImage();\n\t\t\tsetAttributes( {\n\t\t\t\timages: newImages,\n\t\t\t\tcolumns: attributes.columns\n\t\t\t\t\t? Math.min( newImages.length, attributes.columns )\n\t\t\t\t\t: attributes.columns,\n\t\t\t} );\n\t\t};\n\t}\n\n\tfunction selectCaption( newImage ) {\n\t\t// The image id in both the images and attachmentCaptions arrays is a\n\t\t// string, so ensure comparison works correctly by converting the\n\t\t// newImage.id to a string.\n\t\tconst newImageId = newImage.id.toString();\n\t\tconst currentImage = images.find( ( { id } ) => id === newImageId );\n\t\tconst currentImageCaption = currentImage\n\t\t\t? currentImage.caption\n\t\t\t: newImage.caption;\n\n\t\tif ( ! attachmentCaptions ) {\n\t\t\treturn currentImageCaption;\n\t\t}\n\n\t\tconst attachment = attachmentCaptions.find(\n\t\t\t( { id } ) => id === newImageId\n\t\t);\n\n\t\t// If the attachment caption is updated.\n\t\tif ( attachment && attachment.caption !== newImage.caption ) {\n\t\t\treturn newImage.caption;\n\t\t}\n\n\t\treturn currentImageCaption;\n\t}\n\n\tfunction onSelectImages( newImages ) {\n\t\tsetAttachmentCaptions(\n\t\t\tnewImages.map( ( newImage ) => ( {\n\t\t\t\t// Store the attachmentCaption id as a string for consistency\n\t\t\t\t// with the type of the id in the images attribute.\n\t\t\t\tid: newImage.id.toString(),\n\t\t\t\tcaption: newImage.caption,\n\t\t\t} ) )\n\t\t);\n\t\tsetAttributes( {\n\t\t\timages: newImages.map( ( newImage ) => ( {\n\t\t\t\t...pickRelevantMediaFiles( newImage, sizeSlug ),\n\t\t\t\tcaption: selectCaption( newImage, images, attachmentCaptions ),\n\t\t\t\t// The id value is stored in a data attribute, so when the\n\t\t\t\t// block is parsed it's converted to a string. Converting\n\t\t\t\t// to a string here ensures it's type is consistent.\n\t\t\t\tid: newImage.id.toString(),\n\t\t\t} ) ),\n\t\t\tcolumns: attributes.columns\n\t\t\t\t? Math.min( newImages.length, attributes.columns )\n\t\t\t\t: attributes.columns,\n\t\t} );\n\t}\n\n\tfunction onUploadError( message ) {\n\t\tnoticeOperations.removeAllNotices();\n\t\tnoticeOperations.createErrorNotice( message );\n\t}\n\n\tfunction setLinkTo( value ) {\n\t\tsetAttributes( { linkTo: value } );\n\t}\n\n\tfunction setColumnsNumber( value ) {\n\t\tsetAttributes( { columns: value } );\n\t}\n\n\tfunction toggleImageCrop() {\n\t\tsetAttributes( { imageCrop: ! imageCrop } );\n\t}\n\n\tfunction getImageCropHelp( checked ) {\n\t\treturn checked\n\t\t\t? __( 'Thumbnails are cropped to align.' )\n\t\t\t: __( 'Thumbnails are not cropped.' );\n\t}\n\n\tfunction setImageAttributes( index, newAttributes ) {\n\t\tif ( ! images[ index ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\timages: [\n\t\t\t\t...images.slice( 0, index ),\n\t\t\t\t{\n\t\t\t\t\t...images[ index ],\n\t\t\t\t\t...newAttributes,\n\t\t\t\t},\n\t\t\t\t...images.slice( index + 1 ),\n\t\t\t],\n\t\t} );\n\t}\n\n\tfunction getImagesSizeOptions() {\n\t\tconst resizedImageSizes = Object.values( resizedImages );\n\t\treturn imageSizes\n\t\t\t.filter( ( { slug } ) =>\n\t\t\t\tresizedImageSizes.some( ( sizes ) => sizes[ slug ] )\n\t\t\t)\n\t\t\t.map( ( { name, slug } ) => ( { value: slug, label: name } ) );\n\t}\n\n\tfunction updateImagesSize( newSizeSlug ) {\n\t\tconst updatedImages = ( images ?? [] ).map( ( image ) => {\n\t\t\tif ( ! image.id ) {\n\t\t\t\treturn image;\n\t\t\t}\n\t\t\tconst url =\n\t\t\t\tresizedImages[ parseInt( image.id, 10 ) ]?.[ newSizeSlug ];\n\t\t\treturn {\n\t\t\t\t...image,\n\t\t\t\t...( url && { url } ),\n\t\t\t};\n\t\t} );\n\n\t\tsetAttributes( { images: updatedImages, sizeSlug: newSizeSlug } );\n\t}\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\tPlatform.OS === 'web' &&\n\t\t\timages &&\n\t\t\timages.length > 0 &&\n\t\t\timages.every( ( { url } ) => isBlobURL( url ) )\n\t\t) {\n\t\t\tconst filesList = images.map( ( { url } ) => getBlobByURL( url ) );\n\t\t\timages.forEach( ( { url } ) => revokeBlobURL( url ) );\n\t\t\tmediaUpload( {\n\t\t\t\tfilesList,\n\t\t\t\tonFileChange: onSelectImages,\n\t\t\t\tallowedTypes: [ 'image' ],\n\t\t\t} );\n\t\t}\n\t}, [] );\n\n\tuseEffect( () => {\n\t\t// Deselect images when deselecting the block.\n\t\tif ( ! isSelected ) {\n\t\t\tsetSelectedImage();\n\t\t}\n\t}, [ isSelected ] );\n\n\tuseEffect( () => {\n\t\t// linkTo attribute must be saved so blocks don't break when changing\n\t\t// image_default_link_type in options.php.\n\t\tif ( ! linkTo ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tsetAttributes( {\n\t\t\t\tlinkTo:\n\t\t\t\t\twindow?.wp?.media?.view?.settings?.defaultProps?.link ||\n\t\t\t\t\tLINK_DESTINATION_NONE,\n\t\t\t} );\n\t\t}\n\t}, [ linkTo ] );\n\n\tconst hasImages = !! images.length;\n\tconst hasImageIds = hasImages && images.some( ( image ) => !! image.id );\n\n\tconst mediaPlaceholder = (\n\t\t<MediaPlaceholder\n\t\t\taddToGallery={ hasImageIds }\n\t\t\tisAppender={ hasImages }\n\t\t\tdisableMediaButtons={ hasImages && ! isSelected }\n\t\t\ticon={ ! hasImages && sharedIcon }\n\t\t\tlabels={ {\n\t\t\t\ttitle: ! hasImages && __( 'Gallery' ),\n\t\t\t\tinstructions: ! hasImages && PLACEHOLDER_TEXT,\n\t\t\t} }\n\t\t\tonSelect={ onSelectImages }\n\t\t\taccept=\"image/*\"\n\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\tmultiple\n\t\t\tvalue={ hasImageIds ? images : {} }\n\t\t\tonError={ onUploadError }\n\t\t\tnotices={ hasImages ? undefined : noticeUI }\n\t\t\tonFocus={ onFocus }\n\t\t\tautoOpenMediaUpload={\n\t\t\t\t! hasImages && isSelected && wasBlockJustInserted\n\t\t\t}\n\t\t/>\n\t);\n\n\tconst blockProps = useBlockProps();\n\n\tif ( ! hasImages ) {\n\t\treturn <View { ...blockProps }>{ mediaPlaceholder }</View>;\n\t}\n\n\tconst imageSizeOptions = getImagesSizeOptions();\n\tconst shouldShowSizeOptions = hasImages && ! isEmpty( imageSizeOptions );\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings' ) }>\n\t\t\t\t\t{ images.length > 1 && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ setColumnsNumber }\n\t\t\t\t\t\t\tmin={ 1 }\n\t\t\t\t\t\t\tmax={ Math.min( MAX_COLUMNS, images.length ) }\n\t\t\t\t\t\t\t{ ...MOBILE_CONTROL_PROPS_RANGE_CONTROL }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Crop images' ) }\n\t\t\t\t\t\tchecked={ !! imageCrop }\n\t\t\t\t\t\tonChange={ toggleImageCrop }\n\t\t\t\t\t\thelp={ getImageCropHelp }\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Link to' ) }\n\t\t\t\t\t\tvalue={ linkTo }\n\t\t\t\t\t\tonChange={ setLinkTo }\n\t\t\t\t\t\toptions={ linkOptions }\n\t\t\t\t\t\thideCancelButton={ true }\n\t\t\t\t\t/>\n\t\t\t\t\t{ shouldShowSizeOptions && (\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tlabel={ __( 'Image size' ) }\n\t\t\t\t\t\t\tvalue={ sizeSlug }\n\t\t\t\t\t\t\toptions={ imageSizeOptions }\n\t\t\t\t\t\t\tonChange={ updateImagesSize }\n\t\t\t\t\t\t\thideCancelButton={ true }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t{ noticeUI }\n\t\t\t<Gallery\n\t\t\t\t{ ...props }\n\t\t\t\tselectedImage={ selectedImage }\n\t\t\t\tmediaPlaceholder={ mediaPlaceholder }\n\t\t\t\tonMoveBackward={ onMoveBackward }\n\t\t\t\tonMoveForward={ onMoveForward }\n\t\t\t\tonRemoveImage={ onRemoveImage }\n\t\t\t\tonSelectImage={ onSelectImage }\n\t\t\t\tonDeselectImage={ onDeselectImage }\n\t\t\t\tonSetImageAttributes={ setImageAttributes }\n\t\t\t\tblockProps={ blockProps }\n\t\t\t\t// This prop is used by gallery.native.js.\n\t\t\t\tonFocusGalleryCaption={ onFocusGalleryCaption }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default compose( [\n\twithNotices,\n\twithViewportMatch( { isNarrow: '< small' } ),\n] )( GalleryEdit );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { Button, Spinner, ButtonGroup } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { BACKSPACE, DELETE } from '@wordpress/keycodes';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport {\n\tRichText,\n\tMediaPlaceholder,\n\tstore as blockEditorStore,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\nimport { isBlobURL } from '@wordpress/blob';\nimport { compose } from '@wordpress/compose';\nimport {\n\tcloseSmall,\n\tchevronLeft,\n\tchevronRight,\n\tedit,\n\timage as imageIcon,\n} from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { pickRelevantMediaFiles } from './shared';\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n} from './constants';\n\nconst isTemporaryImage = ( id, url ) => ! id && isBlobURL( url );\n\nclass GalleryImage extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onSelectImage = this.onSelectImage.bind( this );\n\t\tthis.onRemoveImage = this.onRemoveImage.bind( this );\n\t\tthis.bindContainer = this.bindContainer.bind( this );\n\t\tthis.onEdit = this.onEdit.bind( this );\n\t\tthis.onSelectImageFromLibrary =\n\t\t\tthis.onSelectImageFromLibrary.bind( this );\n\t\tthis.onSelectCustomURL = this.onSelectCustomURL.bind( this );\n\t\tthis.state = {\n\t\t\tisEditing: false,\n\t\t};\n\t}\n\n\tbindContainer( ref ) {\n\t\tthis.container = ref;\n\t}\n\n\tonSelectImage() {\n\t\tif ( ! this.props.isSelected ) {\n\t\t\tthis.props.onSelect();\n\t\t}\n\t}\n\n\tonRemoveImage( event ) {\n\t\tif (\n\t\t\tthis.container === this.container.ownerDocument.activeElement &&\n\t\t\tthis.props.isSelected &&\n\t\t\t[ BACKSPACE, DELETE ].indexOf( event.keyCode ) !== -1\n\t\t) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.props.onRemove();\n\t\t}\n\t}\n\n\tonEdit() {\n\t\tthis.setState( {\n\t\t\tisEditing: true,\n\t\t} );\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst { image, url, __unstableMarkNextChangeAsNotPersistent } =\n\t\t\tthis.props;\n\t\tif ( image && ! url ) {\n\t\t\t__unstableMarkNextChangeAsNotPersistent();\n\t\t\tthis.props.setAttributes( {\n\t\t\t\turl: image.source_url,\n\t\t\t\talt: image.alt_text,\n\t\t\t} );\n\t\t}\n\t}\n\n\tdeselectOnBlur() {\n\t\tthis.props.onDeselect();\n\t}\n\n\tonSelectImageFromLibrary( media ) {\n\t\tconst { setAttributes, id, url, alt, caption, sizeSlug } = this.props;\n\t\tif ( ! media || ! media.url ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet mediaAttributes = pickRelevantMediaFiles( media, sizeSlug );\n\n\t\t// If the current image is temporary but an alt text was meanwhile\n\t\t// written by the user, make sure the text is not overwritten.\n\t\tif ( isTemporaryImage( id, url ) ) {\n\t\t\tif ( alt ) {\n\t\t\t\tconst { alt: omittedAlt, ...restMediaAttributes } =\n\t\t\t\t\tmediaAttributes;\n\t\t\t\tmediaAttributes = restMediaAttributes;\n\t\t\t}\n\t\t}\n\n\t\t// If a caption text was meanwhile written by the user,\n\t\t// make sure the text is not overwritten by empty captions.\n\t\tif ( caption && ! mediaAttributes.caption ) {\n\t\t\tconst { caption: omittedCaption, ...restMediaAttributes } =\n\t\t\t\tmediaAttributes;\n\t\t\tmediaAttributes = restMediaAttributes;\n\t\t}\n\n\t\tsetAttributes( mediaAttributes );\n\t\tthis.setState( {\n\t\t\tisEditing: false,\n\t\t} );\n\t}\n\n\tonSelectCustomURL( newURL ) {\n\t\tconst { setAttributes, url } = this.props;\n\t\tif ( newURL !== url ) {\n\t\t\tsetAttributes( {\n\t\t\t\turl: newURL,\n\t\t\t\tid: undefined,\n\t\t\t} );\n\t\t\tthis.setState( {\n\t\t\t\tisEditing: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\turl,\n\t\t\talt,\n\t\t\tid,\n\t\t\tlinkTo,\n\t\t\tlink,\n\t\t\tisFirstItem,\n\t\t\tisLastItem,\n\t\t\tisSelected,\n\t\t\tcaption,\n\t\t\tonRemove,\n\t\t\tonMoveForward,\n\t\t\tonMoveBackward,\n\t\t\tsetAttributes,\n\t\t\t'aria-label': ariaLabel,\n\t\t} = this.props;\n\t\tconst { isEditing } = this.state;\n\n\t\tlet href;\n\n\t\tswitch ( linkTo ) {\n\t\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\t\thref = url;\n\t\t\t\tbreak;\n\t\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\t\thref = link;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst img = (\n\t\t\t// Disable reason: Image itself is not meant to be interactive, but should\n\t\t\t// direct image selection and unfocus caption fields.\n\t\t\t/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n\t\t\t<>\n\t\t\t\t<img\n\t\t\t\t\tsrc={ url }\n\t\t\t\t\talt={ alt }\n\t\t\t\t\tdata-id={ id }\n\t\t\t\t\tonKeyDown={ this.onRemoveImage }\n\t\t\t\t\ttabIndex=\"0\"\n\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t\tref={ this.bindContainer }\n\t\t\t\t/>\n\t\t\t\t{ isBlobURL( url ) && <Spinner /> }\n\t\t\t</>\n\t\t\t/* eslint-enable jsx-a11y/no-noninteractive-element-interactions */\n\t\t);\n\n\t\tconst className = classnames( {\n\t\t\t'is-selected': isSelected,\n\t\t\t'is-transient': isBlobURL( url ),\n\t\t} );\n\n\t\treturn (\n\t\t\t// eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-noninteractive-element-interactions\n\t\t\t<figure\n\t\t\t\tclassName={ className }\n\t\t\t\tonClick={ this.onSelectImage }\n\t\t\t\tonFocus={ this.onSelectImage }\n\t\t\t>\n\t\t\t\t{ ! isEditing && ( href ? <a href={ href }>{ img }</a> : img ) }\n\t\t\t\t{ isEditing && (\n\t\t\t\t\t<MediaPlaceholder\n\t\t\t\t\t\tlabels={ { title: __( 'Edit gallery image' ) } }\n\t\t\t\t\t\ticon={ imageIcon }\n\t\t\t\t\t\tonSelect={ this.onSelectImageFromLibrary }\n\t\t\t\t\t\tonSelectURL={ this.onSelectCustomURL }\n\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\t\t\tvalue={ { id, src: url } }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<ButtonGroup className=\"block-library-gallery-item__inline-menu is-left\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ chevronLeft }\n\t\t\t\t\t\tonClick={ isFirstItem ? undefined : onMoveBackward }\n\t\t\t\t\t\tlabel={ __( 'Move image backward' ) }\n\t\t\t\t\t\taria-disabled={ isFirstItem }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ chevronRight }\n\t\t\t\t\t\tonClick={ isLastItem ? undefined : onMoveForward }\n\t\t\t\t\t\tlabel={ __( 'Move image forward' ) }\n\t\t\t\t\t\taria-disabled={ isLastItem }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t/>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t<ButtonGroup className=\"block-library-gallery-item__inline-menu is-right\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ edit }\n\t\t\t\t\t\tonClick={ this.onEdit }\n\t\t\t\t\t\tlabel={ __( 'Replace image' ) }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\tonClick={ onRemove }\n\t\t\t\t\t\tlabel={ __( 'Remove image' ) }\n\t\t\t\t\t\tdisabled={ ! isSelected }\n\t\t\t\t\t/>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t{ ! isEditing && ( isSelected || caption ) && (\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tclassName={ __experimentalGetElementClassName(\n\t\t\t\t\t\t\t'caption'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\taria-label={ __( 'Image caption text' ) }\n\t\t\t\t\t\tplaceholder={ isSelected ? __( 'Add caption' ) : null }\n\t\t\t\t\t\tvalue={ caption }\n\t\t\t\t\t\tonChange={ ( newCaption ) =>\n\t\t\t\t\t\t\tsetAttributes( { caption: newCaption } )\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinlineToolbar\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</figure>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, ownProps ) => {\n\t\tconst { getMedia } = select( coreStore );\n\t\tconst { id } = ownProps;\n\n\t\treturn {\n\t\t\timage: id ? getMedia( parseInt( id, 10 ) ) : null,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { __unstableMarkNextChangeAsNotPersistent } =\n\t\t\tdispatch( blockEditorStore );\n\t\treturn {\n\t\t\t__unstableMarkNextChangeAsNotPersistent,\n\t\t};\n\t} ),\n] )( GalleryImage );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\nimport { VisuallyHidden } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { createBlock, getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport GalleryImage from './gallery-image';\nimport { defaultColumnsNumberV1 } from '../deprecated';\n\nexport const Gallery = ( props ) => {\n\tconst {\n\t\tattributes,\n\t\tisSelected,\n\t\tsetAttributes,\n\t\tselectedImage,\n\t\tmediaPlaceholder,\n\t\tonMoveBackward,\n\t\tonMoveForward,\n\t\tonRemoveImage,\n\t\tonSelectImage,\n\t\tonDeselectImage,\n\t\tonSetImageAttributes,\n\t\tinsertBlocksAfter,\n\t\tblockProps,\n\t} = props;\n\n\tconst {\n\t\talign,\n\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\tcaption,\n\t\timageCrop,\n\t\timages,\n\t} = attributes;\n\n\treturn (\n\t\t<figure\n\t\t\t{ ...blockProps }\n\t\t\tclassName={ classnames( blockProps.className, {\n\t\t\t\t[ `align${ align }` ]: align,\n\t\t\t\t[ `columns-${ columns }` ]: columns,\n\t\t\t\t'is-cropped': imageCrop,\n\t\t\t} ) }\n\t\t>\n\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t{ images.map( ( img, index ) => {\n\t\t\t\t\tconst ariaLabel = sprintf(\n\t\t\t\t\t\t/* translators: 1: the order number of the image. 2: the total number of images. */\n\t\t\t\t\t\t__( 'image %1$d of %2$d in gallery' ),\n\t\t\t\t\t\tindex + 1,\n\t\t\t\t\t\timages.length\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\tkey={ img.id ? `${ img.id }-${ index }` : img.url }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<GalleryImage\n\t\t\t\t\t\t\t\turl={ img.url }\n\t\t\t\t\t\t\t\talt={ img.alt }\n\t\t\t\t\t\t\t\tid={ img.id }\n\t\t\t\t\t\t\t\tisFirstItem={ index === 0 }\n\t\t\t\t\t\t\t\tisLastItem={ index + 1 === images.length }\n\t\t\t\t\t\t\t\tisSelected={\n\t\t\t\t\t\t\t\t\tisSelected && selectedImage === index\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonMoveBackward={ onMoveBackward( index ) }\n\t\t\t\t\t\t\t\tonMoveForward={ onMoveForward( index ) }\n\t\t\t\t\t\t\t\tonRemove={ onRemoveImage( index ) }\n\t\t\t\t\t\t\t\tonSelect={ onSelectImage( index ) }\n\t\t\t\t\t\t\t\tonDeselect={ onDeselectImage( index ) }\n\t\t\t\t\t\t\t\tsetAttributes={ ( attrs ) =>\n\t\t\t\t\t\t\t\t\tonSetImageAttributes( index, attrs )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcaption={ img.caption }\n\t\t\t\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t\t\t\t\tsizeSlug={ attributes.sizeSlug }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t\t{ mediaPlaceholder }\n\t\t\t<RichTextVisibilityHelper\n\t\t\t\tisHidden={ ! isSelected && RichText.isEmpty( caption ) }\n\t\t\t\ttagName=\"figcaption\"\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'blocks-gallery-caption',\n\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\n\t\t\t\t) }\n\t\t\t\taria-label={ __( 'Gallery caption text' ) }\n\t\t\t\tplaceholder={ __( 'Write gallery caption' ) }\n\t\t\t\tvalue={ caption }\n\t\t\t\tonChange={ ( value ) => setAttributes( { caption: value } ) }\n\t\t\t\tinlineToolbar\n\t\t\t\t__unstableOnSplitAtEnd={ () =>\n\t\t\t\t\tinsertBlocksAfter( createBlock( getDefaultBlockName() ) )\n\t\t\t\t}\n\t\t\t/>\n\t\t</figure>\n\t);\n};\n\nfunction RichTextVisibilityHelper( { isHidden, ...richTextProps } ) {\n\treturn isHidden ? (\n\t\t<VisuallyHidden as={ RichText } { ...richTextProps } />\n\t) : (\n\t\t<RichText { ...richTextProps } />\n\t);\n}\n\nexport default Gallery;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\t__experimentalGetElementClassName,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { defaultColumnsNumberV1 } from '../deprecated';\nimport {\n\tLINK_DESTINATION_ATTACHMENT,\n\tLINK_DESTINATION_MEDIA,\n} from './constants';\n\nexport default function saveV1( { attributes } ) {\n\tconst {\n\t\timages,\n\t\tcolumns = defaultColumnsNumberV1( attributes ),\n\t\timageCrop,\n\t\tcaption,\n\t\tlinkTo,\n\t} = attributes;\n\tconst className = `columns-${ columns } ${ imageCrop ? 'is-cropped' : '' }`;\n\n\treturn (\n\t\t<figure { ...useBlockProps.save( { className } ) }>\n\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t{ images.map( ( image ) => {\n\t\t\t\t\tlet href;\n\n\t\t\t\t\tswitch ( linkTo ) {\n\t\t\t\t\t\tcase LINK_DESTINATION_MEDIA:\n\t\t\t\t\t\t\thref = image.fullUrl || image.url;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase LINK_DESTINATION_ATTACHMENT:\n\t\t\t\t\t\t\thref = image.link;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst img = (\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={ image.url }\n\t\t\t\t\t\t\talt={ image.alt }\n\t\t\t\t\t\t\tdata-id={ image.id }\n\t\t\t\t\t\t\tdata-full-url={ image.fullUrl }\n\t\t\t\t\t\t\tdata-link={ image.link }\n\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\timage.id ? `wp-image-${ image.id }` : null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={ image.id || image.url }\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t{ href ? <a href={ href }>{ img }</a> : img }\n\t\t\t\t\t\t\t\t{ ! RichText.isEmpty( image.caption ) && (\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t\t\t\t'blocks-gallery-item',\n\t\t\t\t\t\t\t\t\t\t\t__experimentalGetElementClassName(\n\t\t\t\t\t\t\t\t\t\t\t\t'caption'\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tvalue={ image.caption }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t\t{ ! RichText.isEmpty( caption ) && (\n\t\t\t\t<RichText.Content\n\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'blocks-gallery-caption',\n\t\t\t\t\t\t__experimentalGetElementClassName( 'caption' )\n\t\t\t\t\t) }\n\t\t\t\t\tvalue={ caption }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</figure>\n\t);\n}\n","export const pickRelevantMediaFiles = ( image, sizeSlug = 'large' ) => {\n\tconst imageProps = Object.fromEntries(\n\t\tObject.entries( image ?? {} ).filter( ( [ key ] ) =>\n\t\t\t[ 'alt', 'id', 'link', 'caption' ].includes( key )\n\t\t)\n\t);\n\n\timageProps.url =\n\t\timage?.sizes?.[ sizeSlug ]?.url ||\n\t\timage?.media_details?.sizes?.[ sizeSlug ]?.source_url ||\n\t\timage?.url;\n\tconst fullUrl =\n\t\timage?.sizes?.full?.url ||\n\t\timage?.media_details?.sizes?.full?.source_url;\n\tif ( fullUrl ) {\n\t\timageProps.fullUrl = fullUrl;\n\t}\n\treturn imageProps;\n};\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"wp\"][\"blob\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"keycodes\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"viewport\"];","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n */\n import { registerBlockType } from '@wordpress/blocks';\n\n /**\n  * Lets webpack process CSS, SASS or SCSS files referenced in JavaScript files.\n  * All files containing `style` keyword are bundled together. The code used\n  * gets applied both to the front of your site and to the editor.\n  *\n  * @see https://www.npmjs.com/package/@wordpress/scripts#using-css\n  */\n // import './style.scss';\n\nimport transforms from './transforms';\n\n\nimport deprecated from './deprecated';\n\n\n /**\n  * Internal dependencies\n  */\nimport edit from './edit-custom-wrapper';\n\n import save from './save';\n import metadata from './block.json';\n\n\n/**\n * WordPress dependencies\n */\nimport { gallery as icon } from '@wordpress/icons';\nimport CustomTitle from \"./custom-title\";\n\n /**\n  * Every block starts by registering a new block type definition.\n  *\n  * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-registration/\n  */\n\n\tregisterBlockType( metadata.name, {\n\t\ticon,\n\t\texample: {\n\t\t\tattributes: {\n\t\t\t\tcolumns: 2,\n\t\t\t},\n\t\t\tinnerBlocks: [\n\t\t\t\t{\n\t\t\t\t\tname: 'core/image',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\turl: 'https://s.w.org/images/core/5.3/Glacial_lakes%2C_Bhutan.jpg',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'core/image',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\turl: 'https://s.w.org/images/core/5.3/Sediment_off_the_Yucatan_Peninsula.jpg',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\ttransforms ,\n\t\t/**\n\t\t * @see ./edit.js\n\t\t */\n\t\tedit,\n\n\t\t/**\n\t\t * @see ./save.js\n\t\t */\n\t\tsave, // ()=>{return <div>this is save function</div>} ,\n\t\tdeprecated\n\t} )\n"],"names":["LINK_DESTINATION_NONE","LINK_DESTINATION_MEDIA","LINK_DESTINATION_ATTACHMENT","LINK_DESTINATION_MEDIA_WP_CORE","LINK_DESTINATION_ATTACHMENT_WP_CORE","CustomTitle","createElement","style","textAlign","padding","fontSize","classnames","RichText","useBlockProps","useInnerBlocksProps","createBlock","isGalleryV2Enabled","DEPRECATED_LINK_DESTINATION_MEDIA","DEPRECATED_LINK_DESTINATION_ATTACHMENT","defaultColumnsNumberV1","attributes","Math","min","images","length","getHrefAndDestination","image","destination","href","source_url","url","linkDestination","link","undefined","runV2Migration","linkTo","imageBlocks","map","getImageBlock","sizeSlug","ids","restAttributes","allowResize","id","parseInt","alt","caption","v7","type","default","source","selector","query","attribute","fullUrl","items","shortCodeTransforms","columns","minimum","maximum","imageCrop","fixedHeight","linkTarget","save","className","blockProps","innerBlocksProps","children","isEmpty","Content","tagName","value","v6","supports","anchor","align","img","src","key","migrate","v5","isEligible","v4","some","_attributes$ids","parsedId","Number","isInteger","v3","v2","index","_attributes$images","v1","alignnone","edit","EditCustomWrapper","props","Fragment","compose","withNotices","EditWithInnerBlocks","EditWithoutInnerBlocks","GalleryEditWrapper","usePrevious","BaseControl","PanelBody","SelectControl","ToggleControl","RangeControl","Spinner","ToolbarButton","store","blockEditorStore","MediaPlaceholder","InspectorControls","BlockControls","MediaReplaceFlow","Platform","useCallback","useEffect","useState","useMemo","__","_x","sprintf","useSelect","useDispatch","withViewportMatch","View","createBlobURL","noticesStore","captionIcon","sharedIcon","defaultColumnsNumber","pickRelevantMediaFiles","getUpdatedLinkTargetSettings","getImageSizeAttributes","Gallery","useImageSizes","useGetNewImages","useGetMedia","GapStyles","MAX_COLUMNS","linkOptions","label","ALLOWED_MEDIA_TYPES","allowedBlocks","PLACEHOLDER_TEXT","isNative","MOBILE_CONTROL_PROPS_RANGE_CONTROL","GalleryEdit","setAttributes","clientId","isSelected","insertBlocksAfter","isContentLocked","showCaption","setShowCaption","prevCaption","captionRef","node","focus","__unstableMarkNextChangeAsNotPersistent","replaceInnerBlocks","updateBlockAttributes","selectBlock","clearSelectedBlock","createSuccessNotice","createErrorNotice","getBlock","getSettings","preferredStyle","select","settings","preferredStyleVariations","__experimentalPreferredStyleVariations","innerBlockImages","innerBlocks","wasBlockJustInserted","block","fromSavedContent","Boolean","originalContent","imageData","newImages","forEach","newImage","buildImageAttributes","imageSizeOptions","imageAttributes","find","newClassName","newLinkTarget","rel","raw","alt_text","isValidFileType","file","nativeFileData","mediaTypeSelector","media_type","mediaType","indexOf","updateImages","selectedImages","newFileUploads","Object","prototype","toString","call","imageArray","Array","from","every","processedImages","filter","newOrderMap","reduce","result","existingImageBlocks","newImageList","existingImg","newBlocks","concat","sort","a","b","onUploadError","message","setLinkTo","changedAttributes","blocks","push","linkToText","linkType","setColumnsNumber","toggleImageCrop","getImageCropHelp","checked","toggleOpenInNewTab","openInNewTab","noticeText","updateImagesSize","newSizeSlug","imageSize","size","window","wp","media","view","defaultProps","hasImages","hasImageIds","imagesUploading","mediaPlaceholderProps","web","addToGallery","disableMediaButtons","native","isAppender","autoOpenMediaUpload","mediaPlaceholder","handleUpload","icon","labels","title","instructions","onSelect","accept","allowedTypes","multiple","onError","nativeInnerBlockProps","marginHorizontal","marginVertical","orientation","renderAppender","hasLinkTo","__nextHasNoMarginBottom","onChange","max","required","help","options","hideCancelButton","isWeb","VisualLabel","group","onClick","isPressed","name","mediaIds","blockGap","spacing","ref","isNarrow","__experimentalGetElementClassName","getDefaultBlockName","forwardRef","__unstableLayoutClassNames","layoutClassNames","identifier","placeholder","inlineToolbar","__unstableOnSplitAtEnd","BlockList","__experimentalGetGapCSSValue","getGapCSSValue","useContext","createPortal","styleElement","__unstableElementContext","fallbackValue","gapValue","column","row","top","left","gap","GapStyle","MIN_SIZE","LINK_DESTINATION_CUSTOM","NEW_TAB_REL","MEDIA_ID_NO_FEATURED_IMAGE_SET","removeNewTabRel","currentRel","newRel","relVal","regExp","RegExp","replace","trim","updatedRel","media_details","sizes","width","height","saveWithoutInnerBlocks","saveWithInnerBlocks","BlockIcon","gallery","imageCount","imageProps","fromEntries","entries","includes","full","getGalleryBlockV2Enabled","galleryBlockV2Enabled","addFilter","parseShortcodeIds","split","updateThirdPartyTransformToGallery","updateThirdPartyTransformFromGallery","toBlock","fromBlocks","isArray","galleryBlock","transformedBlock","transforms","isMultiBlock","transform","validImages","tag","shortcode","named","imageIds","imageId","isMatch","priority","files","to","linkClass","imageSizeSlug","coreStore","EMPTY_IMAGE_MEDIA","_select$getMediaItems","imageBlock","getMediaItems","include","join","per_page","orderby","currentImages","setCurrentImages","getNewImages","imagesUpdated","newCurrentImages","currentImg","currentImage","fromSavedConent","getImageSizing","imageSizes","resizedImages","currentResizedImages","currentSizes","defaultUrl","slug","mediaDetailsUrl","resizedImageSizes","values","IMAGE_LINK_DESTINATION_ATTACHMENT","IMAGE_LINK_DESTINATION_MEDIA","IMAGE_LINK_DESTINATION_NONE","galleryDestination","imageDestination","getBlobByURL","isBlobURL","revokeBlobURL","noticeUI","noticeOperations","onFocus","selectedImage","setSelectedImage","attachmentCaptions","setAttachmentCaptions","mediaUpload","getMedia","onFocusGalleryCaption","newAttrs","Error","onSelectImage","onDeselectImage","onMove","oldIndex","newIndex","splice","onMoveForward","onMoveBackward","onRemoveImage","i","selectCaption","newImageId","currentImageCaption","attachment","onSelectImages","removeAllNotices","setImageAttributes","newAttributes","slice","getImagesSizeOptions","updatedImages","OS","filesList","onFileChange","notices","shouldShowSizeOptions","onSetImageAttributes","Component","Button","ButtonGroup","BACKSPACE","DELETE","withSelect","withDispatch","closeSmall","chevronLeft","chevronRight","imageIcon","isTemporaryImage","GalleryImage","constructor","arguments","bind","bindContainer","onEdit","onSelectImageFromLibrary","onSelectCustomURL","state","isEditing","container","event","ownerDocument","activeElement","keyCode","preventDefault","onRemove","setState","componentDidUpdate","deselectOnBlur","onDeselect","mediaAttributes","omittedAlt","restMediaAttributes","omittedCaption","newURL","render","isFirstItem","isLastItem","ariaLabel","onKeyDown","tabIndex","onSelectURL","disabled","newCaption","ownProps","dispatch","VisuallyHidden","attrs","RichTextVisibilityHelper","isHidden","richTextProps","as","saveV1","registerBlockType","deprecated","metadata","example"],"sourceRoot":""}