(()=>{var e={967:(e,t)=>{var a;!function(){"use strict";var l={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=n(e,r(a)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)l.call(e,a)&&e[a]&&(t=n(t,a));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(a=function(){return i}.apply(t,[]))||(e.exports=a)}()}},t={};function a(l){var i=t[l];if(void 0!==i)return i.exports;var r=t[l]={exports:{}};return e[l](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.wp.blob,l=window.wp.hooks,i="none",r="media",n="attachment",o="none",s="file",c="post",u=window.wp.element,m=(e,t="large")=>{const a=Object.fromEntries(Object.entries(null!=e?e:{}).filter((([e])=>["alt","id","link"].includes(e))));a.url=e?.sizes?.[t]?.url||e?.media_details?.sizes?.[t]?.source_url||e?.url||e?.source_url;const l=e?.sizes?.full?.url||e?.media_details?.sizes?.full?.source_url;return l&&(a.fullUrl=l),a};function d(){return!u.Platform.isNative||function(){if(!window.wp||"boolean"!=typeof window.wp.galleryBlockV2Enabled)throw"window.wp.galleryBlockV2Enabled is not defined";return window.wp.galleryBlockV2Enabled}()}const g=e=>e?e.split(",").map((e=>parseInt(e,10))):[];(0,l.addFilter)("blocks.switchToBlockType.transformedBlock","core/gallery/update-third-party-transform-to",(function(t){if(d()&&"core/gallery"===t.name&&t.attributes?.images.length>0){const a=t.attributes.images.map((({url:a,id:l,alt:i})=>(0,e.createBlock)("core/image",{url:a,id:l?parseInt(l,10):null,alt:i,sizeSlug:t.attributes.sizeSlug,linkDestination:t.attributes.linkDestination})));delete t.attributes.ids,delete t.attributes.images,t.innerBlocks=a}return t})),(0,l.addFilter)("blocks.switchToBlockType.transformedBlock","core/gallery/update-third-party-transform-from",(function(e,t){const a=(Array.isArray(t)?t:[t]).find((t=>"core/gallery"===t.name&&t.innerBlocks.length>0&&!t.attributes.images?.length>0&&!e.name.includes("core/")));if(a){const e=a.innerBlocks.map((({attributes:{url:e,id:t,alt:a}})=>({url:e,id:t?parseInt(t,10):null,alt:a}))),t=e.map((({id:e})=>e));a.attributes.images=e,a.attributes.ids=t}return e}));const p={from:[{type:"block",isMultiBlock:!0,blocks:["core/image"],transform:t=>{let{align:a,sizeSlug:l}=t[0];a=t.every((e=>e.align===a))?a:void 0,l=t.every((e=>e.sizeSlug===l))?l:void 0;const i=t.filter((({url:e})=>e));if(d()){const t=i.map((t=>(t.width=void 0,t.height=void 0,(0,e.createBlock)("core/image",t))));return(0,e.createBlock)("core/gallery",{align:a,sizeSlug:l},t)}return(0,e.createBlock)("core/gallery",{images:i.map((({id:e,url:t,alt:a,caption:l})=>({id:e.toString(),url:t,alt:a,caption:l}))),ids:i.map((({id:e})=>parseInt(e,10))),align:a,sizeSlug:l})}},{type:"shortcode",tag:"gallery",attributes:{images:{type:"array",shortcode:({named:{ids:e}})=>{if(!d())return g(e).map((e=>({id:e.toString()})))}},ids:{type:"array",shortcode:({named:{ids:e}})=>{if(!d())return g(e)}},columns:{type:"number",shortcode:({named:{columns:e="3"}})=>parseInt(e,10)},linkTo:{type:"string",shortcode:({named:{link:e}})=>{if(!d())switch(e){case"post":default:return c;case"file":return s}switch(e){case"post":return n;case"file":return r;default:return i}}}},transform({named:{ids:t,columns:a=3,link:l}}){const o=g(t).map((e=>parseInt(e,10)));let s=i;return"post"===l?s=n:"file"===l&&(s=r),(0,e.createBlock)("core/gallery",{columns:parseInt(a,10),linkTo:s},o.map((t=>(0,e.createBlock)("core/image",{id:t}))))},isMatch:({named:e})=>void 0!==e.ids},{type:"files",priority:1,isMatch:e=>1!==e.length&&e.every((e=>0===e.type.indexOf("image/"))),transform(a){if(d()){const l=a.map((a=>(0,e.createBlock)("core/image",{url:(0,t.createBlobURL)(a)})));return(0,e.createBlock)("core/gallery",{},l)}return(0,e.createBlock)("core/gallery",{images:a.map((e=>m({url:(0,t.createBlobURL)(e)})))})}}],to:[{type:"block",blocks:["core/image"],transform:({align:t,images:a,ids:l,sizeSlug:i},r)=>d()?r.length>0?r.map((({attributes:{url:a,alt:l,caption:i,title:r,href:n,rel:o,linkClass:s,id:c,sizeSlug:u,linkDestination:m,linkTarget:d,anchor:g,className:p}})=>(0,e.createBlock)("core/image",{align:t,url:a,alt:l,caption:i,title:r,href:n,rel:o,linkClass:s,id:c,sizeSlug:u,linkDestination:m,linkTarget:d,anchor:g,className:p}))):(0,e.createBlock)("core/image",{align:t}):a.length>0?a.map((({url:a,alt:r,caption:n},o)=>(0,e.createBlock)("core/image",{id:l[o],url:a,alt:r,caption:n,align:t,sizeSlug:i}))):(0,e.createBlock)("core/image",{align:t})}]},b=window.React;var f=a(967),h=a.n(f);const y=window.wp.blockEditor,k="file",_="post";function v(e){return Math.min(3,e?.images?.length)}function E(e,t){switch(t){case k:return{href:e?.source_url||e?.url,linkDestination:r};case _:return{href:e?.link,linkDestination:n};case r:return{href:e?.source_url||e?.url,linkDestination:r};case n:return{href:e?.link,linkDestination:n};case i:return{href:void 0,linkDestination:i}}return{}}function w(t){let a=t.linkTo?t.linkTo:"none";"post"===a?a="attachment":"file"===a&&(a="media");const l=t.images.map((l=>function(t,a,l){return(0,e.createBlock)("core/image",{...t.id&&{id:parseInt(t.id)},url:t.url,alt:t.alt,caption:t.caption,sizeSlug:a,...E(t,l)})}(l,t.sizeSlug,a))),{images:i,ids:r,...n}=t;return[{...n,linkTo:a,allowResize:!1},l]}const S=[{attributes:{images:{type:"array",default:[],source:"query",selector:".blocks-gallery-item",query:{url:{type:"string",source:"attribute",selector:"img",attribute:"src"},fullUrl:{type:"string",source:"attribute",selector:"img",attribute:"data-full-url"},link:{type:"string",source:"attribute",selector:"img",attribute:"data-link"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:""},id:{type:"string",source:"attribute",selector:"img",attribute:"data-id"},caption:{type:"string",source:"html",selector:".blocks-gallery-item__caption"}}},ids:{type:"array",items:{type:"number"},default:[]},shortCodeTransforms:{type:"array",default:[],items:{type:"object"}},columns:{type:"number",minimum:1,maximum:8},caption:{type:"string",source:"html",selector:".blocks-gallery-caption"},imageCrop:{type:"boolean",default:!0},fixedHeight:{type:"boolean",default:!0},linkTarget:{type:"string"},linkTo:{type:"string"},sizeSlug:{type:"string",default:"large"},allowResize:{type:"boolean",default:!1}},save({attributes:e}){const{caption:t,columns:a,imageCrop:l}=e,i=h()("has-nested-images",{[`columns-${a}`]:void 0!==a,"columns-default":void 0===a,"is-cropped":l}),r=y.useBlockProps.save({className:i}),n=y.useInnerBlocksProps.save(r);return(0,b.createElement)("figure",{...n},n.children,!y.RichText.isEmpty(t)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-caption",value:t}))}},{attributes:{images:{type:"array",default:[],source:"query",selector:".blocks-gallery-item",query:{url:{type:"string",source:"attribute",selector:"img",attribute:"src"},fullUrl:{type:"string",source:"attribute",selector:"img",attribute:"data-full-url"},link:{type:"string",source:"attribute",selector:"img",attribute:"data-link"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:""},id:{type:"string",source:"attribute",selector:"img",attribute:"data-id"},caption:{type:"string",source:"html",selector:".blocks-gallery-item__caption"}}},ids:{type:"array",items:{type:"number"},default:[]},columns:{type:"number",minimum:1,maximum:8},caption:{type:"string",source:"html",selector:".blocks-gallery-caption"},imageCrop:{type:"boolean",default:!0},fixedHeight:{type:"boolean",default:!0},linkTo:{type:"string"},sizeSlug:{type:"string",default:"large"}},supports:{anchor:!0,align:!0},save({attributes:e}){const{images:t,columns:a=v(e),imageCrop:l,caption:i,linkTo:r}=e,n=`columns-${a} ${l?"is-cropped":""}`;return(0,b.createElement)("figure",{...y.useBlockProps.save({className:n})},(0,b.createElement)("ul",{className:"blocks-gallery-grid"},t.map((e=>{let t;switch(r){case k:t=e.fullUrl||e.url;break;case _:t=e.link}const a=(0,b.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-full-url":e.fullUrl,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,b.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,b.createElement)("figure",null,t?(0,b.createElement)("a",{href:t},a):a,!y.RichText.isEmpty(e.caption)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-item__caption",value:e.caption})))}))),!y.RichText.isEmpty(i)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-caption",value:i}))},migrate:e=>d()?w(e):e},{attributes:{images:{type:"array",default:[],source:"query",selector:".blocks-gallery-item",query:{url:{type:"string",source:"attribute",selector:"img",attribute:"src"},fullUrl:{type:"string",source:"attribute",selector:"img",attribute:"data-full-url"},link:{type:"string",source:"attribute",selector:"img",attribute:"data-link"},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:""},id:{type:"string",source:"attribute",selector:"img",attribute:"data-id"},caption:{type:"string",source:"html",selector:".blocks-gallery-item__caption"}}},ids:{type:"array",items:{type:"number"},default:[]},columns:{type:"number",minimum:1,maximum:8},caption:{type:"string",source:"html",selector:".blocks-gallery-caption"},imageCrop:{type:"boolean",default:!0},linkTo:{type:"string",default:"none"},sizeSlug:{type:"string",default:"large"}},supports:{align:!0},isEligible:({linkTo:e})=>!e||"attachment"===e||"media"===e,migrate(e){if(d())return w(e);let t=e.linkTo;return e.linkTo?"attachment"===e.linkTo?t="post":"media"===e.linkTo&&(t="file"):t="none",{...e,linkTo:t}},save({attributes:e}){const{images:t,columns:a=v(e),imageCrop:l,caption:i,linkTo:r}=e;return(0,b.createElement)("figure",{className:`columns-${a} ${l?"is-cropped":""}`},(0,b.createElement)("ul",{className:"blocks-gallery-grid"},t.map((e=>{let t;switch(r){case"media":t=e.fullUrl||e.url;break;case"attachment":t=e.link}const a=(0,b.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-full-url":e.fullUrl,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,b.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,b.createElement)("figure",null,t?(0,b.createElement)("a",{href:t},a):a,!y.RichText.isEmpty(e.caption)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-item__caption",value:e.caption})))}))),!y.RichText.isEmpty(i)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-caption",value:i}))}},{attributes:{images:{type:"array",default:[],source:"query",selector:".blocks-gallery-item",query:{url:{source:"attribute",selector:"img",attribute:"src"},fullUrl:{source:"attribute",selector:"img",attribute:"data-full-url"},link:{source:"attribute",selector:"img",attribute:"data-link"},alt:{source:"attribute",selector:"img",attribute:"alt",default:""},id:{source:"attribute",selector:"img",attribute:"data-id"},caption:{type:"string",source:"html",selector:".blocks-gallery-item__caption"}}},ids:{type:"array",default:[]},columns:{type:"number"},caption:{type:"string",source:"html",selector:".blocks-gallery-caption"},imageCrop:{type:"boolean",default:!0},linkTo:{type:"string",default:"none"}},supports:{align:!0},isEligible:({ids:e})=>e&&e.some((e=>"string"==typeof e)),migrate(e){var t;return d()?w(e):{...e,ids:(null!==(t=e.ids)&&void 0!==t?t:[]).map((e=>{const t=parseInt(e,10);return Number.isInteger(t)?t:null}))}},save({attributes:e}){const{images:t,columns:a=v(e),imageCrop:l,caption:i,linkTo:r}=e;return(0,b.createElement)("figure",{className:`columns-${a} ${l?"is-cropped":""}`},(0,b.createElement)("ul",{className:"blocks-gallery-grid"},t.map((e=>{let t;switch(r){case"media":t=e.fullUrl||e.url;break;case"attachment":t=e.link}const a=(0,b.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-full-url":e.fullUrl,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,b.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,b.createElement)("figure",null,t?(0,b.createElement)("a",{href:t},a):a,!y.RichText.isEmpty(e.caption)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-item__caption",value:e.caption})))}))),!y.RichText.isEmpty(i)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:"blocks-gallery-caption",value:i}))}},{attributes:{images:{type:"array",default:[],source:"query",selector:"ul.wp-block-gallery .blocks-gallery-item",query:{url:{source:"attribute",selector:"img",attribute:"src"},fullUrl:{source:"attribute",selector:"img",attribute:"data-full-url"},alt:{source:"attribute",selector:"img",attribute:"alt",default:""},id:{source:"attribute",selector:"img",attribute:"data-id"},link:{source:"attribute",selector:"img",attribute:"data-link"},caption:{type:"string",source:"html",selector:"figcaption"}}},ids:{type:"array",default:[]},columns:{type:"number"},imageCrop:{type:"boolean",default:!0},linkTo:{type:"string",default:"none"}},supports:{align:!0},save({attributes:e}){const{images:t,columns:a=v(e),imageCrop:l,linkTo:i}=e;return(0,b.createElement)("ul",{className:`columns-${a} ${l?"is-cropped":""}`},t.map((e=>{let t;switch(i){case"media":t=e.fullUrl||e.url;break;case"attachment":t=e.link}const a=(0,b.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-full-url":e.fullUrl,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,b.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,b.createElement)("figure",null,t?(0,b.createElement)("a",{href:t},a):a,e.caption&&e.caption.length>0&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",value:e.caption})))})))},migrate:e=>d()?w(e):e},{attributes:{images:{type:"array",default:[],source:"query",selector:"ul.wp-block-gallery .blocks-gallery-item",query:{url:{source:"attribute",selector:"img",attribute:"src"},alt:{source:"attribute",selector:"img",attribute:"alt",default:""},id:{source:"attribute",selector:"img",attribute:"data-id"},link:{source:"attribute",selector:"img",attribute:"data-link"},caption:{type:"string",source:"html",selector:"figcaption"}}},columns:{type:"number"},imageCrop:{type:"boolean",default:!0},linkTo:{type:"string",default:"none"}},isEligible:({images:e,ids:t})=>e&&e.length>0&&(!t&&e||t&&e&&t.length!==e.length||e.some(((e,a)=>!e&&null!==t[a]||parseInt(e,10)!==t[a]))),migrate(e){var t;return d()?w(e):{...e,ids:(null!==(t=e.images)&&void 0!==t?t:[]).map((({id:e})=>e?parseInt(e,10):null))}},supports:{align:!0},save({attributes:e}){const{images:t,columns:a=v(e),imageCrop:l,linkTo:i}=e;return(0,b.createElement)("ul",{className:`columns-${a} ${l?"is-cropped":""}`},t.map((e=>{let t;switch(i){case"media":t=e.url;break;case"attachment":t=e.link}const a=(0,b.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,b.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,b.createElement)("figure",null,t?(0,b.createElement)("a",{href:t},a):a,e.caption&&e.caption.length>0&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",value:e.caption})))})))}},{attributes:{images:{type:"array",default:[],source:"query",selector:"div.wp-block-gallery figure.blocks-gallery-image img",query:{url:{source:"attribute",attribute:"src"},alt:{source:"attribute",attribute:"alt",default:""},id:{source:"attribute",attribute:"data-id"}}},columns:{type:"number"},imageCrop:{type:"boolean",default:!0},linkTo:{type:"string",default:"none"},align:{type:"string",default:"none"}},supports:{align:!0},save({attributes:e}){const{images:t,columns:a=v(e),align:l,imageCrop:i,linkTo:r}=e,n=h()(`columns-${a}`,{alignnone:"none"===l,"is-cropped":i});return(0,b.createElement)("div",{className:n},t.map((e=>{let t;switch(r){case"media":t=e.url;break;case"attachment":t=e.link}const a=(0,b.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id});return(0,b.createElement)("figure",{key:e.id||e.url,className:"blocks-gallery-image"},t?(0,b.createElement)("a",{href:t},a):a)})))},migrate:e=>d()?w(e):e}],N=window.wp.compose,C=window.wp.components,B=window.wp.i18n,x=window.wp.data,T=window.wp.viewport,I=window.wp.primitives,M=window.wp.notices,R=(0,b.createElement)(I.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(I.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})),P=(0,b.createElement)(I.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(I.Path,{d:"M16.375 4.5H4.625a.125.125 0 0 0-.125.125v8.254l2.859-1.54a.75.75 0 0 1 .68-.016l2.384 1.142 2.89-2.074a.75.75 0 0 1 .874 0l2.313 1.66V4.625a.125.125 0 0 0-.125-.125Zm.125 9.398-2.75-1.975-2.813 2.02a.75.75 0 0 1-.76.067l-2.444-1.17L4.5 14.583v1.792c0 .069.056.125.125.125h11.75a.125.125 0 0 0 .125-.125v-2.477ZM4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625ZM20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z",fillRule:"evenodd",clipRule:"evenodd"})),z=(0,b.createElement)(y.BlockIcon,{icon:P}),A=["noreferrer","noopener"];function L(e,t,a){switch(a||t){case"file":case r:return{href:e?.source_url||e?.url,linkDestination:"media"};case"post":case n:return{href:e?.link,linkDestination:"attachment"};case i:return{href:void 0,linkDestination:"none"}}return{}}const U=window.lodash;function D(e,{rel:t}){const a=e?"_blank":void 0;let l;return l=a||t?function(e){let t=e;return void 0===e||(0,U.isEmpty)(t)||(0,U.isEmpty)(t)||(A.forEach((e=>{const a=new RegExp("\\b"+e+"\\b","gi");t=t.replace(a,"")})),t!==e&&(t=t.trim()),(0,U.isEmpty)(t)&&(t=void 0)),t}(t):void 0,{linkTarget:a,rel:l}}const G=(0,u.forwardRef)(((t,a)=>{const{attributes:l,isSelected:i,setAttributes:r,mediaPlaceholder:n,insertBlocksAfter:o,blockProps:s,__unstableLayoutClassNames:c,showCaption:u}=t,{align:m,columns:d,caption:g,imageCrop:p}=l;return(0,b.createElement)("figure",{...s,className:h()(s.className,c,"blocks-gallery-grid","alex-slick-slider","alex-slick-slider-advanced-v2",{[`align${m}`]:m,[`columns-${d}`]:void 0!==d,"columns-default":void 0===d,"is-cropped":p})},s.children,i&&!s.children&&(0,b.createElement)(I.View,{className:"blocks-gallery-media-placeholder-wrapper"},n),u&&(!y.RichText.isEmpty(g)||i)&&(0,b.createElement)(y.RichText,{identifier:"caption","aria-label":(0,B.__)("Gallery caption text"),placeholder:(0,B.__)("Write gallery caption…"),value:g,className:h()("blocks-gallery-caption",(0,y.__experimentalGetElementClassName)("caption")),ref:a,tagName:"figcaption",onChange:e=>r({caption:e}),inlineToolbar:!0,__unstableOnSplitAtEnd:()=>o((0,e.createBlock)((0,e.getDefaultBlockName)()))}))}));const V=window.wp.coreData,$=[];function O({blockGap:e,clientId:t}){const a=(0,u.useContext)(y.BlockList.__unstableElementContext),l="var( --wp--style--gallery-gap-default, var( --gallery-block--gutter-size, var( --wp--style--block-gap, 0.5em ) ) )";let i,r=l,n=l;e&&(i="string"==typeof e?(0,y.__experimentalGetGapCSSValue)(e):(0,y.__experimentalGetGapCSSValue)(e?.top)||l,n="string"==typeof e?(0,y.__experimentalGetGapCSSValue)(e):(0,y.__experimentalGetGapCSSValue)(e?.left)||l,r=i===n?i:`${i} ${n}`);const o=`#block-${t} {\n\t\t--wp--style--unstable-gallery-gap: ${"0"===n?"0px":n};\n\t\tgap: ${r}\n\t}`;return o&&a?(0,u.createPortal)((0,b.createElement)((()=>(0,b.createElement)("style",null,o)),null),a):null}const F=[{value:n,label:(0,B.__)("Attachment Page")},{value:r,label:(0,B.__)("Media File")},{value:i,label:(0,B._x)("None","Media item link option")}],H=["image"],j=["core/image"],q=u.Platform.isNative?(0,B.__)("ADD MEDIA"):(0,B.__)("Drag images, upload new ones or select files from your library."),Z=u.Platform.isNative?{type:"stepper"}:{},J=(0,N.compose)([(0,T.withViewportMatch)({isNarrow:"< small"})])((function(a){const{setAttributes:l,attributes:r,className:n,clientId:o,isSelected:s,insertBlocksAfter:c,isContentLocked:d}=a,{columns:g,imageCrop:p,linkTarget:f,linkTo:k,sizeSlug:_,caption:v}=r,[E,w]=(0,u.useState)(!!v),S=(0,N.usePrevious)(v);(0,u.useEffect)((()=>{v&&!S&&w(!0)}),[v,S]),(0,u.useEffect)((()=>{s||v||w(!1)}),[s,v]);const T=(0,u.useCallback)((e=>{e&&!v&&e.focus()}),[v]),{__unstableMarkNextChangeAsNotPersistent:P,replaceInnerBlocks:A,updateBlockAttributes:U,selectBlock:J,clearSelectedBlock:W}=(0,x.useDispatch)(y.store),{createSuccessNotice:K,createErrorNotice:Y}=(0,x.useDispatch)(M.store),{getBlock:Q,getSettings:X,preferredStyle:ee}=(0,x.useSelect)((e=>{const t=e(y.store).getSettings().__experimentalPreferredStyleVariations;return{getBlock:e(y.store).getBlock,getSettings:e(y.store).getSettings,preferredStyle:t?.value?.["core/image"]}}),[]),te=(0,x.useSelect)((e=>e(y.store).getBlock(o)?.innerBlocks),[o]),ae=(0,x.useSelect)((e=>e(y.store).wasBlockJustInserted(o,"inserter_menu")),[o]),le=(0,u.useMemo)((()=>te?.map((e=>({clientId:e.clientId,id:e.attributes.id,url:e.attributes.url,attributes:e.attributes,fromSavedContent:Boolean(e.originalContent)})))),[te]),ie=function(e){return(0,x.useSelect)((t=>{var a;const l=e.map((e=>e.attributes.id)).filter((e=>void 0!==e));return 0===l.length?$:null!==(a=t(V.store).getMediaItems({include:l.join(","),per_page:-1,orderby:"include"}))&&void 0!==a?a:$}),[e])}(te),re=function(e,t){const[a,l]=(0,u.useState)([]);return(0,u.useMemo)((()=>function(){let i=!1;const r=a.filter((t=>e.find((e=>t.clientId===e.clientId))));r.length<a.length&&(i=!0),e.forEach((e=>{e.fromSavedContent&&!r.find((t=>t.id===e.id))&&(i=!0,r.push(e))}));const n=e.filter((e=>!r.find((t=>e.clientId&&t.clientId===e.clientId))&&t?.find((t=>t.id===e.id))&&!e.fromSavedConent));return(i||n?.length>0)&&l([...r,...n]),n.length>0?n:null}()),[e,t])}(le,ie);(0,u.useEffect)((()=>{re?.forEach((e=>{P(),U(e.clientId,{...oe(e.attributes),id:e.id,align:void 0})})),re?.length>0&&W()}),[re]);const ne=function(e,t,a){return(0,u.useMemo)((()=>function(){if(!e||0===e.length)return;const{imageSizes:l}=a();let i={};t&&(i=e.reduce(((e,t)=>{if(!t.id)return e;const a=l.reduce(((e,a)=>{const l=t.sizes?.[a.slug]?.url,i=t.media_details?.sizes?.[a.slug]?.source_url;return{...e,[a.slug]:l||i}}),{});return{...e,[parseInt(t.id,10)]:a}}),{}));const r=Object.values(i);return l.filter((({slug:e})=>r.some((t=>t[e])))).map((({name:e,slug:t})=>({value:t,label:e})))}()),[e,t])}(ie,s,X);function oe(e){const t=e.id?ie.find((({id:t})=>t===e.id)):null;let a,l;return a=e.className&&""!==e.className?e.className:ee?`is-style-${ee}`:void 0,l=e.linkTarget||e.rel?{linkTarget:e.linkTarget,rel:e.rel}:D(f,r),{...m(t,_),...L(t,k,e?.linkDestination),...l,className:a,sizeSlug:_,caption:e.caption||t.caption?.raw,alt:e.alt||t.alt_text}}function se(e){const t=u.Platform.isNative&&e.id?ie.find((({id:t})=>t===e.id)):null,a=t?t?.media_type:e.type;return H.some((e=>0===a?.indexOf(e)))||0===e.url?.indexOf("blob:")}function ce(a){const l="[object FileList]"===Object.prototype.toString.call(a),i=l?Array.from(a).map((e=>e.url?e:m({url:(0,t.createBlobURL)(e)}))):a;i.every(se)||Y((0,B.__)("If uploading to a gallery all files need to be image formats"),{id:"gallery-upload-invalid-file",type:"snackbar"});const r=i.filter((e=>e.url||se(e))).map((e=>e.url?e:m({url:(0,t.createBlobURL)(e)}))),n=r.reduce(((e,t,a)=>(e[t.id]=a,e)),{}),s=l?te:te.filter((e=>r.find((t=>t.id===e.attributes.id)))),c=r.filter((e=>!s.find((t=>e.id===t.attributes.id)))).map((t=>(0,e.createBlock)("core/image",{id:t.id,url:t.url,caption:t.caption,alt:t.alt})));c?.length>0&&J(c[0].clientId),A(o,s.concat(c).sort(((e,t)=>n[e.attributes.id]-n[t.attributes.id])))}(0,u.useEffect)((()=>{k||(P(),l({linkTo:window?.wp?.media?.view?.settings?.defaultProps?.link||i}))}),[k]);const ue=!!le.length,me=ue&&le.some((e=>!!e.id)),de=le.some((e=>u.Platform.isNative?0===e.url?.indexOf("file:"):!e.id&&0===e.url?.indexOf("blob:"))),ge=u.Platform.select({web:{addToGallery:!1,disableMediaButtons:de,value:{}},native:{addToGallery:me,isAppender:ue,disableMediaButtons:ue&&!s||de,value:me?le:{},autoOpenMediaUpload:!ue&&s&&ae}}),pe=(0,b.createElement)(y.MediaPlaceholder,{handleUpload:!1,icon:z,labels:{title:(0,B.__)("Gallery"),instructions:q},onSelect:ce,accept:"image/*",allowedTypes:H,multiple:!0,onError:function(e){Y(e,{type:"snackbar"})},...ge}),be=(0,y.useBlockProps)({className:h()(n,"has-nested-images")}),fe=u.Platform.isNative&&{marginHorizontal:0,marginVertical:0},he=(0,y.useInnerBlocksProps)(be,{allowedBlocks:j,orientation:"horizontal",renderAppender:!1,...fe});if(!ue)return(0,b.createElement)(I.View,{...he},he.children,pe);const ye=k&&"none"!==k;return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(y.InspectorControls,null,(0,b.createElement)(C.PanelBody,{title:(0,B.__)("Settings")},le.length>1&&(0,b.createElement)(C.RangeControl,{__nextHasNoMarginBottom:!0,label:(0,B.__)("Columns"),value:g||(ke=le.length,ke?Math.min(3,ke):3),onChange:function(e){l({columns:e})},min:1,max:Math.min(8,le.length),...Z,required:!0}),(0,b.createElement)(C.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,B.__)("Crop images"),checked:!!p,onChange:function(){l({imageCrop:!p})},help:function(e){return e?(0,B.__)("Thumbnails are cropped to align."):(0,B.__)("Thumbnails are not cropped.")}}),(0,b.createElement)(C.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,B.__)("Link to"),value:k,onChange:function(e){l({linkTo:e});const t={},a=[];Q(o).innerBlocks.forEach((l=>{a.push(l.clientId);const i=l.attributes.id?ie.find((({id:e})=>e===l.attributes.id)):null;t[l.clientId]=L(i,e)})),U(a,t,!0);const i=[...F].find((t=>t.value===e));K((0,B.sprintf)(/* translators: %s: image size settings */ /* translators: %s: image size settings */
(0,B.__)("All gallery image links updated to: %s"),i.label),{id:"gallery-attributes-linkTo",type:"snackbar"})},options:F,hideCancelButton:!0}),ye&&(0,b.createElement)(C.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,B.__)("Open in new tab"),checked:"_blank"===f,onChange:function(e){const t=e?"_blank":void 0;l({linkTarget:t});const a={},i=[];Q(o).innerBlocks.forEach((e=>{i.push(e.clientId),a[e.clientId]=D(t,e.attributes)})),U(i,a,!0);const r=e?(0,B.__)("All gallery images updated to open in new tab"):(0,B.__)("All gallery images updated to not open in new tab");K(r,{id:"gallery-attributes-openInNewTab",type:"snackbar"})}}),ne?.length>0&&(0,b.createElement)(C.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,B.__)("Image size"),value:_,options:ne,onChange:function(e){l({sizeSlug:e});const t={},a=[];Q(o).innerBlocks.forEach((l=>{a.push(l.clientId);const i=l.attributes.id?ie.find((({id:e})=>e===l.attributes.id)):null;t[l.clientId]=function(e,t){const a=e?.media_details?.sizes?.[t]?.source_url;return a?{url:a,width:void 0,height:void 0,sizeSlug:t}:{}}(i,e)})),U(a,t,!0);const i=ne.find((t=>t.value===e));K((0,B.sprintf)(/* translators: %s: image size settings */ /* translators: %s: image size settings */
(0,B.__)("All gallery image sizes updated to: %s"),i.label),{id:"gallery-attributes-sizeSlug",type:"snackbar"})},hideCancelButton:!0}),u.Platform.isWeb&&!ne&&me&&(0,b.createElement)(C.BaseControl,{className:"gallery-image-sizes"},(0,b.createElement)(C.BaseControl.VisualLabel,null,(0,B.__)("Image size")),(0,b.createElement)(I.View,{className:"gallery-image-sizes__loading"},(0,b.createElement)(C.Spinner,null),(0,B.__)("Loading options…"))))),(0,b.createElement)(y.BlockControls,{group:"block"},!d&&(0,b.createElement)(C.ToolbarButton,{onClick:()=>{w(!E),E&&v&&l({caption:void 0})},icon:R,isPressed:E,label:E?(0,B.__)("Remove caption"):(0,B.__)("Add caption")})),(0,b.createElement)(y.BlockControls,{group:"other"},(0,b.createElement)(y.MediaReplaceFlow,{allowedTypes:H,accept:"image/*",handleUpload:!1,onSelect:ce,name:(0,B.__)("Add"),multiple:!0,mediaIds:le.filter((e=>e.id)).map((e=>e.id)),addToGallery:me})),u.Platform.isWeb&&(0,b.createElement)(O,{blockGap:r.style?.spacing?.blockGap,clientId:o}),(0,b.createElement)(G,{...a,showCaption:E,ref:u.Platform.isWeb?T:void 0,images:le,mediaPlaceholder:!ue||u.Platform.isNative?pe:void 0,blockProps:he,insertBlocksAfter:c}));var ke})),W=(e,t="large")=>{const a=Object.fromEntries(Object.entries(null!=e?e:{}).filter((([e])=>["alt","id","link","caption"].includes(e))));a.url=e?.sizes?.[t]?.url||e?.media_details?.sizes?.[t]?.source_url||e?.url;const l=e?.sizes?.full?.url||e?.media_details?.sizes?.full?.source_url;return l&&(a.fullUrl=l),a},K=window.wp.keycodes,Y=(0,b.createElement)(I.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,b.createElement)(I.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),Q=(0,b.createElement)(I.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(I.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),X=(0,b.createElement)(I.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(I.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),ee=(0,b.createElement)(I.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(I.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})),te=(0,b.createElement)(I.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,b.createElement)(I.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));class ae extends u.Component{constructor(){super(...arguments),this.onSelectImage=this.onSelectImage.bind(this),this.onRemoveImage=this.onRemoveImage.bind(this),this.bindContainer=this.bindContainer.bind(this),this.onEdit=this.onEdit.bind(this),this.onSelectImageFromLibrary=this.onSelectImageFromLibrary.bind(this),this.onSelectCustomURL=this.onSelectCustomURL.bind(this),this.state={isEditing:!1}}bindContainer(e){this.container=e}onSelectImage(){this.props.isSelected||this.props.onSelect()}onRemoveImage(e){this.container===this.container.ownerDocument.activeElement&&this.props.isSelected&&-1!==[K.BACKSPACE,K.DELETE].indexOf(e.keyCode)&&(e.preventDefault(),this.props.onRemove())}onEdit(){this.setState({isEditing:!0})}componentDidUpdate(){const{image:e,url:t,__unstableMarkNextChangeAsNotPersistent:a}=this.props;e&&!t&&(a(),this.props.setAttributes({url:e.source_url,alt:e.alt_text}))}deselectOnBlur(){this.props.onDeselect()}onSelectImageFromLibrary(e){const{setAttributes:a,id:l,url:i,alt:r,caption:n,sizeSlug:o}=this.props;if(!e||!e.url)return;let s=W(e,o);if(((e,a)=>!e&&(0,t.isBlobURL)(a))(l,i)&&r){const{alt:e,...t}=s;s=t}if(n&&!s.caption){const{caption:e,...t}=s;s=t}a(s),this.setState({isEditing:!1})}onSelectCustomURL(e){const{setAttributes:t,url:a}=this.props;e!==a&&(t({url:e,id:void 0}),this.setState({isEditing:!1}))}render(){const{url:e,alt:a,id:l,linkTo:i,link:r,isFirstItem:n,isLastItem:o,isSelected:u,caption:m,onRemove:d,onMoveForward:g,onMoveBackward:p,setAttributes:f,"aria-label":k}=this.props,{isEditing:_}=this.state;let v;switch(i){case s:v=e;break;case c:v=r}const E=(0,b.createElement)(b.Fragment,null,(0,b.createElement)("img",{src:e,alt:a,"data-id":l,onKeyDown:this.onRemoveImage,tabIndex:"0","aria-label":k,ref:this.bindContainer}),(0,t.isBlobURL)(e)&&(0,b.createElement)(C.Spinner,null)),w=h()({"is-selected":u,"is-transient":(0,t.isBlobURL)(e)});return(0,b.createElement)("figure",{className:w,onClick:this.onSelectImage,onFocus:this.onSelectImage},!_&&(v?(0,b.createElement)("a",{href:v},E):E),_&&(0,b.createElement)(y.MediaPlaceholder,{labels:{title:(0,B.__)("Edit gallery image")},icon:Y,onSelect:this.onSelectImageFromLibrary,onSelectURL:this.onSelectCustomURL,accept:"image/*",allowedTypes:["image"],value:{id:l,src:e}}),(0,b.createElement)(C.ButtonGroup,{className:"block-library-gallery-item__inline-menu is-left"},(0,b.createElement)(C.Button,{icon:Q,onClick:n?void 0:p,label:(0,B.__)("Move image backward"),"aria-disabled":n,disabled:!u}),(0,b.createElement)(C.Button,{icon:X,onClick:o?void 0:g,label:(0,B.__)("Move image forward"),"aria-disabled":o,disabled:!u})),(0,b.createElement)(C.ButtonGroup,{className:"block-library-gallery-item__inline-menu is-right"},(0,b.createElement)(C.Button,{icon:ee,onClick:this.onEdit,label:(0,B.__)("Replace image"),disabled:!u}),(0,b.createElement)(C.Button,{icon:te,onClick:d,label:(0,B.__)("Remove image"),disabled:!u})),!_&&(u||m)&&(0,b.createElement)(y.RichText,{tagName:"figcaption",className:(0,y.__experimentalGetElementClassName)("caption"),"aria-label":(0,B.__)("Image caption text"),placeholder:u?(0,B.__)("Add caption"):null,value:m,onChange:e=>f({caption:e}),inlineToolbar:!0}))}}const le=(0,N.compose)([(0,x.withSelect)(((e,t)=>{const{getMedia:a}=e(V.store),{id:l}=t;return{image:l?a(parseInt(l,10)):null}})),(0,x.withDispatch)((e=>{const{__unstableMarkNextChangeAsNotPersistent:t}=e(y.store);return{__unstableMarkNextChangeAsNotPersistent:t}}))])(ae);function ie({isHidden:e,...t}){return e?(0,b.createElement)(C.VisuallyHidden,{as:y.RichText,...t}):(0,b.createElement)(y.RichText,{...t})}const re=t=>{const{attributes:a,isSelected:l,setAttributes:i,selectedImage:r,mediaPlaceholder:n,onMoveBackward:o,onMoveForward:s,onRemoveImage:c,onSelectImage:u,onDeselectImage:m,onSetImageAttributes:d,insertBlocksAfter:g,blockProps:p}=t,{align:f,columns:k=v(a),caption:_,imageCrop:E,images:w}=a;return(0,b.createElement)("figure",{...p,className:h()(p.className,{[`align${f}`]:f,[`columns-${k}`]:k,"is-cropped":E})},(0,b.createElement)("ul",{className:"blocks-gallery-grid"},w.map(((e,t)=>{const i=(0,B.sprintf)(/* translators: 1: the order number of the image. 2: the total number of images. */ /* translators: 1: the order number of the image. 2: the total number of images. */
(0,B.__)("image %1$d of %2$d in gallery"),t+1,w.length);return(0,b.createElement)("li",{className:"blocks-gallery-item",key:e.id?`${e.id}-${t}`:e.url},(0,b.createElement)(le,{url:e.url,alt:e.alt,id:e.id,isFirstItem:0===t,isLastItem:t+1===w.length,isSelected:l&&r===t,onMoveBackward:o(t),onMoveForward:s(t),onRemove:c(t),onSelect:u(t),onDeselect:m(t),setAttributes:e=>d(t,e),caption:e.caption,"aria-label":i,sizeSlug:a.sizeSlug}))}))),n,(0,b.createElement)(ie,{isHidden:!l&&y.RichText.isEmpty(_),tagName:"figcaption",className:h()("blocks-gallery-caption",(0,y.__experimentalGetElementClassName)("caption")),"aria-label":(0,B.__)("Gallery caption text"),placeholder:(0,B.__)("Write gallery caption…"),value:_,onChange:e=>i({caption:e}),inlineToolbar:!0,__unstableOnSplitAtEnd:()=>g((0,e.createBlock)((0,e.getDefaultBlockName)()))}))},ne=[{value:c,label:(0,B.__)("Attachment Page")},{value:s,label:(0,B.__)("Media File")},{value:o,label:(0,B.__)("None")}],oe=["image"],se=u.Platform.select({web:(0,B.__)("Drag images, upload new ones or select files from your library."),native:(0,B.__)("ADD MEDIA")}),ce=u.Platform.select({web:{},native:{type:"stepper"}}),ue=(0,N.compose)([C.withNotices,(0,T.withViewportMatch)({isNarrow:"< small"})])((function(e){const{attributes:a,clientId:l,isSelected:i,noticeUI:r,noticeOperations:n,onFocus:s}=e,{columns:c=v(a),imageCrop:m,images:d,linkTo:g,sizeSlug:p}=a,[f,h]=(0,u.useState)(),[k,_]=(0,u.useState)(),{__unstableMarkNextChangeAsNotPersistent:E}=(0,x.useDispatch)(y.store),{imageSizes:w,mediaUpload:S,getMedia:N,wasBlockJustInserted:T}=(0,x.useSelect)((e=>{const t=e(y.store).getSettings();return{imageSizes:t.imageSizes,mediaUpload:t.mediaUpload,getMedia:e(V.store).getMedia,wasBlockJustInserted:e(y.store).wasBlockJustInserted(l,"inserter_menu")}})),M=(0,u.useMemo)((()=>{var e;return i?(null!==(e=a.ids)&&void 0!==e?e:[]).reduce(((e,t)=>{if(!t)return e;const a=N(t),l=w.reduce(((e,t)=>{const l=a?.sizes?.[t.slug]?.url,i=a?.media_details?.sizes?.[t.slug]?.source_url;return{...e,[t.slug]:l||i}}),{});return{...e,[parseInt(t,10)]:l}}),{}):{}}),[i,a.ids,w]);function R(t){if(t.ids)throw new Error('The "ids" attribute should not be changed directly. It is managed automatically when "images" attribute changes');t.images&&(t={...t,ids:t.images.map((({id:e})=>parseInt(e,10)))}),e.setAttributes(t)}function P(e,t){const a=[...d];a.splice(t,1,d[e]),a.splice(e,1,d[t]),h(t),R({images:a})}function A(e){const t=e.id.toString(),a=d.find((({id:e})=>e===t)),l=a?a.caption:e.caption;if(!k)return l;const i=k.find((({id:e})=>e===t));return i&&i.caption!==e.caption?e.caption:l}function L(e){_(e.map((e=>({id:e.id.toString(),caption:e.caption})))),R({images:e.map((e=>({...W(e,p),caption:A(e),id:e.id.toString()}))),columns:a.columns?Math.min(e.length,a.columns):a.columns})}(0,u.useEffect)((()=>{if("web"===u.Platform.OS&&d&&d.length>0&&d.every((({url:e})=>(0,t.isBlobURL)(e)))){const e=d.map((({url:e})=>(0,t.getBlobByURL)(e)));d.forEach((({url:e})=>(0,t.revokeBlobURL)(e))),S({filesList:e,onFileChange:L,allowedTypes:["image"]})}}),[]),(0,u.useEffect)((()=>{i||h()}),[i]),(0,u.useEffect)((()=>{g||(E(),R({linkTo:window?.wp?.media?.view?.settings?.defaultProps?.link||o}))}),[g]);const D=!!d.length,G=D&&d.some((e=>!!e.id)),$=(0,b.createElement)(y.MediaPlaceholder,{addToGallery:G,isAppender:D,disableMediaButtons:D&&!i,icon:!D&&z,labels:{title:!D&&(0,B.__)("Gallery"),instructions:!D&&se},onSelect:L,accept:"image/*",allowedTypes:oe,multiple:!0,value:G?d:{},onError:function(e){n.removeAllNotices(),n.createErrorNotice(e)},notices:D?void 0:r,onFocus:s,autoOpenMediaUpload:!D&&i&&T}),O=(0,y.useBlockProps)();if(!D)return(0,b.createElement)(I.View,{...O},$);const F=function(){const e=Object.values(M);return w.filter((({slug:t})=>e.some((e=>e[t])))).map((({name:e,slug:t})=>({value:t,label:e})))}(),H=D&&!(0,U.isEmpty)(F);return(0,b.createElement)(b.Fragment,null,(0,b.createElement)(y.InspectorControls,null,(0,b.createElement)(C.PanelBody,{title:(0,B.__)("Settings")},d.length>1&&(0,b.createElement)(C.RangeControl,{__nextHasNoMarginBottom:!0,label:(0,B.__)("Columns"),value:c,onChange:function(e){R({columns:e})},min:1,max:Math.min(8,d.length),...ce,required:!0}),(0,b.createElement)(C.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,B.__)("Crop images"),checked:!!m,onChange:function(){R({imageCrop:!m})},help:function(e){return e?(0,B.__)("Thumbnails are cropped to align."):(0,B.__)("Thumbnails are not cropped.")}}),(0,b.createElement)(C.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,B.__)("Link to"),value:g,onChange:function(e){R({linkTo:e})},options:ne,hideCancelButton:!0}),H&&(0,b.createElement)(C.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,B.__)("Image size"),value:p,options:F,onChange:function(e){R({images:(null!=d?d:[]).map((t=>{if(!t.id)return t;const a=M[parseInt(t.id,10)]?.[e];return{...t,...a&&{url:a}}})),sizeSlug:e})},hideCancelButton:!0}))),r,(0,b.createElement)(re,{...e,selectedImage:f,mediaPlaceholder:$,onMoveBackward:function(e){return()=>{0!==e&&P(e,e-1)}},onMoveForward:function(e){return()=>{e!==d.length-1&&P(e,e+1)}},onRemoveImage:function(e){return()=>{const t=d.filter(((t,a)=>e!==a));h(),R({images:t,columns:a.columns?Math.min(t.length,a.columns):a.columns})}},onSelectImage:function(e){return()=>{h(e)}},onDeselectImage:function(){return()=>{h()}},onSetImageAttributes:function(e,t){d[e]&&R({images:[...d.slice(0,e),{...d[e],...t},...d.slice(e+1)]})},blockProps:O,onFocusGalleryCaption:function(){h()}}))})),me=(0,N.compose)([C.withNotices])((function(e){return d()?(0,b.createElement)(J,{...e}):(0,b.createElement)(ue,{...e})})),de=JSON.parse('{"u2":"alex-gutenberg/slick-slider-advanced-v2"}');(0,e.registerBlockType)(de.u2,{icon:P,example:{attributes:{columns:2},innerBlocks:[{name:"core/image",attributes:{url:"https://s.w.org/images/core/5.3/Glacial_lakes%2C_Bhutan.jpg"}},{name:"core/image",attributes:{url:"https://s.w.org/images/core/5.3/Sediment_off_the_Yucatan_Peninsula.jpg"}}]},transforms:p,edit:e=>(0,b.createElement)(b.Fragment,null,(0,b.createElement)("div",{style:{textAlign:"center",padding:"10px"}},(0,b.createElement)("h4",{style:{fontSize:"24px",textAlign:"center",padding:"15px"}},"Slider."),(0,b.createElement)("span",null,"Slider based on slick slider js lib and default gallery block")),me(e)),save:function({attributes:e}){if(!d())return function({attributes:e}){const{images:t,columns:a=v(e),imageCrop:l,caption:i,linkTo:r}=e,n=`columns-${a} ${l?"is-cropped":""}`;return(0,b.createElement)("figure",{...y.useBlockProps.save({className:n})},(0,b.createElement)("ul",{className:"blocks-gallery-grid"},t.map((e=>{let t;switch(r){case s:t=e.fullUrl||e.url;break;case c:t=e.link}const a=(0,b.createElement)("img",{src:e.url,alt:e.alt,"data-id":e.id,"data-full-url":e.fullUrl,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,b.createElement)("li",{key:e.id||e.url,className:"blocks-gallery-item"},(0,b.createElement)("figure",null,t?(0,b.createElement)("a",{href:t},a):a,!y.RichText.isEmpty(e.caption)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:h()("blocks-gallery-item",(0,y.__experimentalGetElementClassName)("caption")),value:e.caption})))}))),!y.RichText.isEmpty(i)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:h()("blocks-gallery-caption",(0,y.__experimentalGetElementClassName)("caption")),value:i}))}({attributes:e});const{caption:t,columns:a,imageCrop:l}=e,i=h()("has-nested-images",{[`columns-${a}`]:void 0!==a,"columns-default":void 0===a,"is-cropped":l,"alex-slick-slider":!0,"alex-slick-slider-advanced-v2":!0,"alex-gutenberg-slick-slider":!0}),r=y.useBlockProps.save({className:i}),n=y.useInnerBlocksProps.save(r);return(0,b.createElement)("figure",{...n},(0,b.createElement)("div",{className:"slider-img"},n.children,!y.RichText.isEmpty(t)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:h()("blocks-gallery-caption",(0,y.__experimentalGetElementClassName)("caption")),value:t})),(0,b.createElement)("div",{className:"slider-nav"},n.children,!y.RichText.isEmpty(t)&&(0,b.createElement)(y.RichText.Content,{tagName:"figcaption",className:h()("blocks-gallery-caption",(0,y.__experimentalGetElementClassName)("caption")),value:t})))},deprecated:S})})()})();